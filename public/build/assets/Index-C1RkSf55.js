import{r as b,j as e}from"./react-B_HteL0F.js";import{u as v,aa as N,l as m,a5 as k,av as w,i as S,e as c}from"./vendor-GYTC5Pip.js";import{P as C}from"./PlatformShell-D3A5CZuP.js";import{C as p,c as g}from"./Card-CUbeq4wI.js";import{B as D}from"./Topbar-CPirX8py.js";import{B as n}from"./app-C0WBMkkY.js";import{T as E}from"./TextInput-79R2a16S.js";import{u as A}from"./useNotifications-TrBdqubX.js";import"./BrandingWrapper-DIBfDp2T.js";import"./GlobalFlashHandler-DpywDQft.js";import"./useToast-Rch7lQVh.js";/* empty css            */function K({workspaces:r,filters:h}){const{auth:u}=v().props,{confirm:d,toast:l}=A(),[t,o]=b.useState(h),x=()=>{c.get(route("platform.workspaces.index"),t,{preserveState:!0,preserveScroll:!0})},y=async(a,s)=>{await d({title:"Disable Workspace",message:`Are you sure you want to disable "${s}"? Users will not be able to access it.`,variant:"danger",confirmText:"Disable",cancelText:"Cancel"})&&c.post(route("platform.workspaces.disable",{workspace:a}),{reason:"Disabled by platform admin"},{onSuccess:()=>{l.success("Workspace disabled successfully")},onError:()=>{l.error("Failed to disable workspace")}})},f=async(a,s)=>{await d({title:"Enable Workspace",message:`Are you sure you want to enable "${s}"?`,variant:"info",confirmText:"Enable",cancelText:"Cancel"})&&c.post(route("platform.workspaces.enable",{workspace:a}),{},{onSuccess:()=>{l.success("Workspace enabled successfully")},onError:()=>{l.error("Failed to enable workspace")}})},j=a=>{const i={active:{variant:"success",label:"Active"},suspended:{variant:"warning",label:"Suspended"},disabled:{variant:"danger",label:"Disabled"}}[a]||{variant:"default",label:a};return e.jsx(D,{variant:i.variant,children:i.label})};return e.jsx(C,{auth:u,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Workspaces"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage all workspaces on the platform"})]})}),e.jsx(p,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(E,{type:"text",value:t.search,onChange:a=>o({...t,search:a.target.value}),onKeyDown:a=>a.key==="Enter"&&x(),className:"pl-10",placeholder:"Search workspaces..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:t.status,onChange:a=>o({...t,status:a.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"disabled",children:"Disabled"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(n,{onClick:x,className:"w-full",children:"Apply Filters"})})]})})}),e.jsx(p,{children:e.jsx(g,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Workspace"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:r.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.slug})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:a.owner.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.owner.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(a.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(m,{href:route("platform.workspaces.show",{workspace:a.id}),children:e.jsxs(n,{variant:"ghost",size:"sm",children:[e.jsx(k,{className:"h-4 w-4 mr-1"}),"View"]})}),a.status==="active"?e.jsxs(n,{variant:"danger",size:"sm",onClick:()=>y(a.id,a.name),children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Disable"]}):e.jsxs(n,{variant:"success",size:"sm",onClick:()=>f(a.id,a.name),children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"Enable"]})]})})]},a.id))})]})})})}),r.links&&r.links.length>3&&e.jsx("div",{className:"flex items-center justify-center gap-2",children:r.links.map((a,s)=>e.jsx(m,{href:a.url||"#",className:`px-3 py-2 rounded-lg text-sm ${a.active?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"} ${!a.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},s))})]})})}export{K as default};
