import{r as d,j as e}from"./react-BhzSerM2.js";import{C as h,b as m,c as x,a as g}from"./Card-W2rT1n1C.js";import{T as n}from"./TextInput-DRXLElIV.js";import{I as r}from"./InputLabel-qVeuR0hO.js";import{I as l}from"./InputError-6mWSc7R2.js";import{B as k}from"./app-Iwsu59co.js";import{aM as v,aJ as u,a5 as f,aE as N,aq as C}from"./vendor-DxGhd0kb.js";/* empty css            */function K({data:t,setData:s,errors:i}){const[o,b]=d.useState(!1),[p,j]=d.useState(!1),[c,y]=d.useState(!1),w=()=>{const a="wacp_"+Array.from(crypto.getRandomValues(new Uint8Array(32))).map(_=>_.toString(16).padStart(2,"0")).join("");s("integrations.api_key",a)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),"API Configuration"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(r,{htmlFor:"integrations.api_key",value:"API Key"}),e.jsx(k,{type:"button",variant:"secondary",size:"sm",onClick:w,children:"Generate New Key"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"integrations.api_key",type:o?"text":"password",value:t.integrations?.api_key||"",onChange:a=>s("integrations.api_key",a.target.value),className:"pr-10 font-mono text-sm",placeholder:"wacp_..."}),e.jsx("button",{type:"button",onClick:()=>b(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use this key to authenticate API requests"}),e.jsx(l,{message:i["integrations.api_key"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"integrations.api_rate_limit",value:"API Rate Limit (per minute)"}),e.jsx(n,{id:"integrations.api_rate_limit",type:"number",value:t.integrations?.api_rate_limit||60,onChange:a=>s("integrations.api_rate_limit",parseInt(a.target.value)||60),className:"mt-1",min:"10"}),e.jsx(l,{message:i["integrations.api_rate_limit"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Enable API"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Allow API access"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.integrations?.api_enabled||!1,onChange:a=>s("integrations.api_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Webhook Configuration"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"integrations.webhook_url",value:"Webhook Base URL"}),e.jsx(n,{id:"integrations.webhook_url",type:"url",value:t.integrations?.webhook_url||"",onChange:a=>s("integrations.webhook_url",a.target.value),className:"mt-1",placeholder:"https://api.example.com/webhooks"}),e.jsx(l,{message:i["integrations.webhook_url"]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"integrations.webhook_secret",value:"Webhook Secret"}),e.jsx(n,{id:"integrations.webhook_secret",type:"password",value:t.integrations?.webhook_secret||"",onChange:a=>s("integrations.webhook_secret",a.target.value),className:"mt-1",placeholder:"Secret for webhook signature verification"}),e.jsx(l,{message:i["integrations.webhook_secret"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Enable Webhooks"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send webhook events to external URLs"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.integrations?.webhooks_enabled||!1,onChange:a=>s("integrations.webhooks_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Meta Embedded Signup"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Enable Embedded Signup"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Allow tenants to connect WhatsApp using Meta's Embedded Signup flow."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.whatsapp?.embedded_enabled??!1,onChange:a=>s("whatsapp.embedded_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"whatsapp.meta_app_id",value:"Meta App ID"}),e.jsx(n,{id:"whatsapp.meta_app_id",type:"text",value:t.whatsapp?.meta_app_id||"",onChange:a=>s("whatsapp.meta_app_id",a.target.value),className:"mt-1",placeholder:"123456789012345"}),e.jsx(l,{message:i["whatsapp.meta_app_id"]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"whatsapp.embedded_signup_config_id",value:"Embedded Signup Config ID"}),e.jsx(n,{id:"whatsapp.embedded_signup_config_id",type:"text",value:t.whatsapp?.embedded_signup_config_id||"",onChange:a=>s("whatsapp.embedded_signup_config_id",a.target.value),className:"mt-1",placeholder:"Your config ID"}),e.jsx(l,{message:i["whatsapp.embedded_signup_config_id"]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"whatsapp.meta_app_secret",value:"Meta App Secret"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(n,{id:"whatsapp.meta_app_secret",type:p?"text":"password",value:t.whatsapp?.meta_app_secret||"",onChange:a=>s("whatsapp.meta_app_secret",a.target.value),className:"pr-10",placeholder:"••••••••••"}),e.jsx("button",{type:"button",onClick:()=>j(!p),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:p?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(l,{message:i["whatsapp.meta_app_secret"]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"whatsapp.system_user_token",value:"System User Token"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(n,{id:"whatsapp.system_user_token",type:c?"text":"password",value:t.whatsapp?.system_user_token||"",onChange:a=>s("whatsapp.system_user_token",a.target.value),className:"pr-10",placeholder:"EAAB..."}),e.jsx("button",{type:"button",onClick:()=>y(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(l,{message:i["whatsapp.system_user_token"]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"whatsapp.api_version",value:"Graph API Version"}),e.jsx(n,{id:"whatsapp.api_version",type:"text",value:t.whatsapp?.api_version||"v21.0",onChange:a=>s("whatsapp.api_version",a.target.value),className:"mt-1",placeholder:"v21.0"}),e.jsx(l,{message:i["whatsapp.api_version"]})]})]})]})]})]})}export{K as default};
