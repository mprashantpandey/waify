import{j as e}from"./react-BhzSerM2.js";import{H as b,w as u,v as n,x as y,y as v,k as c}from"./vendor-YQoUUhbX.js";import{P as N}from"./PlatformShell-Bb_kh9A7.js";import{C as o,b as x,c as m,d as h,a as j}from"./Card-CRSrZ5HZ.js";import{B as t}from"./Badge-C6d-QEGL.js";import{u as w,B as k}from"./app-DjsbE74r.js";import{u as C}from"./useToast-C37H2DkG.js";import"./Topbar-D6SeU-QE.js";import"./BrandingWrapper-Djq-D_tN.js";import"./GlobalFlashHandler-DjMhmIiM.js";/* empty css            */function A({modules:i}){const{addToast:r}=C(),g=w(),f=async s=>{if(s.is_core){r({title:"Cannot Disable",description:"Core modules cannot be disabled at the platform level.",variant:"error"});return}const a=s.is_enabled?"disable":"enable";await g({title:`${a==="enable"?"Enable":"Disable"} Module`,message:`Are you sure you want to ${a} ${s.name} at the platform level? This will affect all tenants.`,variant:a==="enable"?"info":"warning"})&&c.post(route("platform.modules.toggle",{module:s.id}),{},{preserveScroll:!0,onSuccess:()=>{r({title:"Module Updated",description:`${s.name} has been ${a}d at the platform level.`,variant:"success"}),c.reload({only:["modules"]})},onError:p=>{r({title:"Error",description:p?.message||"Failed to update module status.",variant:"error"})}})},l=i.filter(s=>s.is_core),d=i.filter(s=>!s.is_core);return e.jsxs(N,{children:[e.jsx(b,{title:"Module Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Module Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enable or disable modules systemwide. Disabled modules will not be available to any tenant."})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-yellow-500"}),"Core Modules"]}),e.jsx(h,{children:"Essential modules that cannot be disabled"})]})})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:l.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No core modules found."}):l.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:s.is_enabled?"success":"default",children:s.is_enabled?"Enabled":"Disabled"}),e.jsx(t,{variant:"info",children:"Core"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.account_count," tenant",s.account_count!==1?"s":""," using"]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(t,{variant:"warning",children:"Cannot Disable"})})]},s.id))})})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-blue-500"}),"Addon Modules"]}),e.jsx(h,{children:"Optional modules that can be enabled or disabled"})]})})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:d.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No addon modules found."}):d.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:s.is_enabled?"success":"default",children:s.is_enabled?"Enabled":"Disabled"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.account_count," tenant",s.account_count!==1?"s":""," using"]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(k,{variant:s.is_enabled?"danger":"primary",size:"sm",onClick:()=>f(s),children:s.is_enabled?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),"Disable"]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Enable"]})})})]},s.id))})})]})]})]})}export{A as default};
