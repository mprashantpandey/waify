import{j as e}from"./react-B_HteL0F.js";import{H as N,l as b,N as v,a3 as p,a4 as k,X as w,U as C,k as S,p as _,a5 as A,e as x}from"./vendor-GYTC5Pip.js";import{A as P}from"./AppShell-HrBHfcoG.js";import{C as r,c as l,a as g,b as u}from"./Card-CUbeq4wI.js";import{B}from"./Topbar-CPirX8py.js";import{B as i}from"./app-C0WBMkkY.js";import{u as D}from"./useToast-Rch7lQVh.js";import"./GlobalFlashHandler-DpywDQft.js";import"./BrandingWrapper-DIBfDp2T.js";/* empty css            */function z({workspace:c,campaign:s,stats:t,recipients:j}){const{toast:d}=D(),m=a=>{const h={draft:{variant:"default",label:"Draft"},scheduled:{variant:"info",label:"Scheduled"},sending:{variant:"info",label:"Sending"},paused:{variant:"warning",label:"Paused"},completed:{variant:"success",label:"Completed"},cancelled:{variant:"danger",label:"Cancelled"},pending:{variant:"default",label:"Pending"},sent:{variant:"info",label:"Sent"},delivered:{variant:"success",label:"Delivered"},read:{variant:"success",label:"Read"},failed:{variant:"danger",label:"Failed"}}[a]||{variant:"default",label:a};return e.jsx(B,{variant:h.variant,children:h.label})},n=a=>a?new Date(a).toLocaleString():"—",o=()=>{x.post(route("app.broadcasts.start",{workspace:c.slug,campaign:s.slug}),{},{onSuccess:()=>{d.success("Campaign started")},onError:()=>{d.error("Failed to start campaign")}})},y=()=>{x.post(route("app.broadcasts.pause",{workspace:c.slug,campaign:s.slug}),{},{onSuccess:()=>{d.success("Campaign paused")},onError:()=>{d.error("Failed to pause campaign")}})},f=()=>{confirm("Are you sure you want to cancel this campaign?")&&x.post(route("app.broadcasts.cancel",{workspace:c.slug,campaign:s.slug}),{},{onSuccess:()=>{d.success("Campaign cancelled")},onError:()=>{d.error("Failed to cancel campaign")}})};return e.jsxs(P,{children:[e.jsx(N,{title:s.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(b,{href:route("app.broadcasts.index",{workspace:c.slug}),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors mb-4",children:[e.jsx(v,{className:"h-4 w-4"}),"Back to Campaigns"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:s.name}),s.description&&e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(s.status),s.status==="draft"&&e.jsxs(i,{onClick:o,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Start"]}),s.status==="sending"&&e.jsxs(i,{onClick:y,variant:"secondary",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Pause"]}),s.status==="paused"&&e.jsxs(i,{onClick:o,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Resume"]}),["draft","scheduled","sending","paused"].includes(s.status)&&e.jsxs(i,{onClick:f,variant:"secondary",className:"text-red-600 hover:text-red-700",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.total})]}),e.jsx(C,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.sent})]}),e.jsx(S,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Delivered"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.delivered})]}),e.jsx(_,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Read"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.read})]}),e.jsx(A,{className:"h-8 w-8 text-purple-600"})]})})})]}),s.status==="sending"&&t.total>0&&e.jsx(r,{children:e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${t.completion_percentage}%`}})})]})}),e.jsxs(r,{children:[e.jsx(g,{children:e.jsx(u,{children:"Campaign Details"})}),e.jsxs(l,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type"}),e.jsx("span",{className:"text-sm font-medium",children:s.type})]}),s.connection&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connection"}),e.jsx("span",{className:"text-sm font-medium",children:s.connection.name})]}),s.template&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Template"}),e.jsx("span",{className:"text-sm font-medium",children:s.template.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scheduled At"}),e.jsx("span",{className:"text-sm font-medium",children:n(s.scheduled_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Started At"}),e.jsx("span",{className:"text-sm font-medium",children:n(s.started_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed At"}),e.jsx("span",{className:"text-sm font-medium",children:n(s.completed_at)})]})]})]}),e.jsxs(r,{children:[e.jsx(g,{children:e.jsx(u,{children:"Recipients"})}),e.jsx(l,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Phone Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sent At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Delivered At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Read At"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:a.phone_number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:a.name||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(a.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:n(a.sent_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:n(a.delivered_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:n(a.read_at)})]},a.id))})]})})})]})]})]})}export{z as default};
