import{r as m,j as e}from"./react-B_HteL0F.js";import{C as o,a as c,b as d,c as p}from"./Card-CUbeq4wI.js";import{T as l}from"./TextInput-79R2a16S.js";import{I as t}from"./InputLabel-BB8AVwyX.js";import{I as n}from"./InputError-BqFzjx5L.js";import{B as w}from"./app-C0WBMkkY.js";import{az as v,aw as u,a5 as f,aq as N,af as C,L as S}from"./vendor-GYTC5Pip.js";/* empty css            */function M({data:r,setData:s,errors:i}){const[h,b]=m.useState(!1),[g,j]=m.useState(!1),[x,k]=m.useState(!1),y=()=>{const a="wacp_"+Array.from(crypto.getRandomValues(new Uint8Array(32))).map(_=>_.toString(16).padStart(2,"0")).join("");s("integrations.api_key",a)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),"API Configuration"]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(t,{htmlFor:"integrations.api_key",value:"API Key"}),e.jsx(w,{type:"button",variant:"secondary",size:"sm",onClick:y,children:"Generate New Key"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"integrations.api_key",type:h?"text":"password",value:r.integrations?.api_key||"",onChange:a=>s("integrations.api_key",a.target.value),className:"pr-10 font-mono text-sm",placeholder:"wacp_..."}),e.jsx("button",{type:"button",onClick:()=>b(!h),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:h?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use this key to authenticate API requests"}),e.jsx(n,{message:i["integrations.api_key"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"integrations.api_rate_limit",value:"API Rate Limit (per minute)"}),e.jsx(l,{id:"integrations.api_rate_limit",type:"number",value:r.integrations?.api_rate_limit||60,onChange:a=>s("integrations.api_rate_limit",parseInt(a.target.value)||60),className:"mt-1",min:"10"}),e.jsx(n,{message:i["integrations.api_rate_limit"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Enable API"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Allow API access"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.integrations?.api_enabled||!1,onChange:a=>s("integrations.api_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Webhook Configuration"]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"integrations.webhook_url",value:"Webhook Base URL"}),e.jsx(l,{id:"integrations.webhook_url",type:"url",value:r.integrations?.webhook_url||"",onChange:a=>s("integrations.webhook_url",a.target.value),className:"mt-1",placeholder:"https://api.example.com/webhooks"}),e.jsx(n,{message:i["integrations.webhook_url"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"integrations.webhook_secret",value:"Webhook Secret"}),e.jsx(l,{id:"integrations.webhook_secret",type:"password",value:r.integrations?.webhook_secret||"",onChange:a=>s("integrations.webhook_secret",a.target.value),className:"mt-1",placeholder:"Secret for webhook signature verification"}),e.jsx(n,{message:i["integrations.webhook_secret"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Enable Webhooks"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send webhook events to external URLs"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.integrations?.webhooks_enabled||!1,onChange:a=>s("integrations.webhooks_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Meta Embedded Signup"]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Enable Embedded Signup"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Allow tenants to connect WhatsApp using Meta's Embedded Signup flow."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.whatsapp?.embedded_enabled??!1,onChange:a=>s("whatsapp.embedded_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"whatsapp.meta_app_id",value:"Meta App ID"}),e.jsx(l,{id:"whatsapp.meta_app_id",type:"text",value:r.whatsapp?.meta_app_id||"",onChange:a=>s("whatsapp.meta_app_id",a.target.value),className:"mt-1",placeholder:"123456789012345"}),e.jsx(n,{message:i["whatsapp.meta_app_id"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"whatsapp.embedded_signup_config_id",value:"Embedded Signup Config ID"}),e.jsx(l,{id:"whatsapp.embedded_signup_config_id",type:"text",value:r.whatsapp?.embedded_signup_config_id||"",onChange:a=>s("whatsapp.embedded_signup_config_id",a.target.value),className:"mt-1",placeholder:"Your config ID"}),e.jsx(n,{message:i["whatsapp.embedded_signup_config_id"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"whatsapp.meta_app_secret",value:"Meta App Secret"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(l,{id:"whatsapp.meta_app_secret",type:g?"text":"password",value:r.whatsapp?.meta_app_secret||"",onChange:a=>s("whatsapp.meta_app_secret",a.target.value),className:"pr-10",placeholder:"••••••••••"}),e.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:g?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(n,{message:i["whatsapp.meta_app_secret"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"whatsapp.system_user_token",value:"System User Token"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(l,{id:"whatsapp.system_user_token",type:x?"text":"password",value:r.whatsapp?.system_user_token||"",onChange:a=>s("whatsapp.system_user_token",a.target.value),className:"pr-10",placeholder:"EAAB..."}),e.jsx("button",{type:"button",onClick:()=>k(!x),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:x?e.jsx(u,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(n,{message:i["whatsapp.system_user_token"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"whatsapp.api_version",value:"Graph API Version"}),e.jsx(l,{id:"whatsapp.api_version",type:"text",value:r.whatsapp?.api_version||"v21.0",onChange:a=>s("whatsapp.api_version",a.target.value),className:"mt-1",placeholder:"v21.0"}),e.jsx(n,{message:i["whatsapp.api_version"]})]})]})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Third-Party Integrations"]})}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Slack"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"integrations.slack_webhook_url",value:"Webhook URL"}),e.jsx(l,{id:"integrations.slack_webhook_url",type:"url",value:r.integrations?.slack_webhook_url||"",onChange:a=>s("integrations.slack_webhook_url",a.target.value),className:"mt-1",placeholder:"https://hooks.slack.com/services/..."}),e.jsx(n,{message:i["integrations.slack_webhook_url"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Enable Slack"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications to Slack"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.integrations?.slack_enabled||!1,onChange:a=>s("integrations.slack_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Discord"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"integrations.discord_webhook_url",value:"Webhook URL"}),e.jsx(l,{id:"integrations.discord_webhook_url",type:"url",value:r.integrations?.discord_webhook_url||"",onChange:a=>s("integrations.discord_webhook_url",a.target.value),className:"mt-1",placeholder:"https://discord.com/api/webhooks/..."}),e.jsx(n,{message:i["integrations.discord_webhook_url"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Enable Discord"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications to Discord"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.integrations?.discord_enabled||!1,onChange:a=>s("integrations.discord_enabled",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]})]})]})}export{M as default};
