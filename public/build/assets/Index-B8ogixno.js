import{r as P,j as e}from"./react-BhzSerM2.js";import{u as T,H as D,d as E,e as L,f as q,g as H,K as B,i as F}from"./vendor-YQoUUhbX.js";import{A as K}from"./AppShell-A6sQ3pxr.js";import{C as d,b as p,c as x,d as g,a as h}from"./Card-CRSrZ5HZ.js";import{L as O}from"./Label-CVvmGNuW.js";import{S as R}from"./Switch-D0Y76KuR.js";import{B as j}from"./app-DjsbE74r.js";import{T as b}from"./TextInput-DRXLElIV.js";import{T as U}from"./Textarea-DNfs4TUT.js";import{I as W}from"./InputError-6mWSc7R2.js";import"./Topbar-D6SeU-QE.js";import"./Badge-C6d-QEGL.js";import"./GlobalFlashHandler-DjMhmIiM.js";import"./useToast-C37H2DkG.js";import"./BrandingWrapper-Djq-D_tN.js";import"./Alert-u60ICsin.js";import"./CookieConsentBanner-C37xsP7H.js";/* empty css            */function me({account:Y,ai_suggestions_enabled:y=!1,ai_prompts:i=[],usage:o={this_month:0,by_feature:{},period_start:""}}){const[r,m]=P.useState(Array.isArray(i)&&i.length>0?i:[]),{data:N,setData:l,post:v,processing:u,errors:k,recentlySuccessful:_}=T({ai_suggestions_enabled:y,ai_prompts:r}),w=()=>{const s=[...r,{purpose:`custom_${Date.now()}`,label:"",prompt:""}];m(s),l("ai_prompts",s)},c=(s,t,a)=>{const n=r.map((f,S)=>S===s?{...f,[t]:a}:f);m(n),l("ai_prompts",n)},C=s=>{const t=r.filter((a,n)=>n!==s);m(t),l("ai_prompts",t)},A=s=>{s.preventDefault(),l("ai_prompts",r),v(route("app.ai.settings"),{preserveScroll:!0})};o?.by_feature;const I={conversation_suggest:"Conversation reply suggestions",support_reply:"Support assistant"};return e.jsxs(K,{children:[e.jsx(D,{title:"AI Assistant"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(E,{className:"h-8 w-8 text-amber-500"}),"AI Assistant"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Enable AI features, manage prompts for different purposes, and view usage."})]}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsxs(p,{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20",children:[e.jsx(x,{className:"text-lg font-bold",children:"Conversation AI"}),e.jsx(g,{children:"Show an AI suggest button in WhatsApp chats to get reply suggestions (requires AI module on your plan)."})]}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-sm font-semibold",children:"AI suggestions in conversations"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"When enabled, youâ€™ll see a suggest button in chat to generate reply ideas."})]}),e.jsx(R,{checked:N.ai_suggestions_enabled,onCheckedChange:s=>l("ai_suggestions_enabled",s)})]})})]}),e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsxs(p,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20",children:[e.jsx(x,{className:"text-lg font-bold",children:"Your prompts"}),e.jsx(g,{children:"Add prompts for different purposes. Use a short key (e.g. reply_suggestion, summary) and a label; the prompt text guides the AI for that use case."})]}),e.jsxs(h,{className:"p-6 space-y-4",children:[r.map((s,t)=>e.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4 space-y-3 bg-white dark:bg-gray-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(b,{placeholder:"Purpose key (e.g. reply_suggestion)",value:s.purpose,onChange:a=>c(t,"purpose",a.target.value),className:"flex-1 max-w-[200px]"}),e.jsx(b,{placeholder:"Label",value:s.label,onChange:a=>c(t,"label",a.target.value),className:"flex-1 max-w-[180px]"}),e.jsx("button",{type:"button",onClick:()=>C(t),className:"p-2 text-gray-400 hover:text-red-600 rounded-lg","aria-label":"Remove prompt",children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx(U,{placeholder:"Prompt text for this purpose...",value:s.prompt,onChange:a=>c(t,"prompt",a.target.value),rows:2,className:"w-full text-sm"})]},t)),e.jsxs(j,{type:"button",variant:"secondary",onClick:w,className:"gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Add prompt"]}),e.jsx(W,{message:k?.ai_prompts,className:"mt-2"})]})]}),e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsxs(p,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),e.jsx(x,{className:"text-lg font-bold",children:"Usage & stats"})]}),e.jsx(g,{children:"AI requests this month for your account."})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:o?.this_month??0}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"requests this month"})]}),o?.by_feature&&Object.keys(o.by_feature).length>0&&e.jsx("ul",{className:"mt-4 space-y-2",children:Object.entries(o.by_feature).map(([s,t])=>e.jsxs("li",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:I[s]??s}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t})]},s))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(j,{type:"submit",disabled:u,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:u?"Saving...":"Save settings"}),e.jsx(B,{show:_,enter:"transition ease-out",enterFrom:"opacity-0",leave:"transition ease-in",leaveTo:"opacity-0",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(F,{className:"h-4 w-4"}),"Saved"]})})]})]})]})]})}export{me as default};
