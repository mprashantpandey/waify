import{j as e}from"./react-BhzSerM2.js";import{P as N}from"./PlatformShell-ButczGpt.js";import{C as r,a as l,b as d,c as i,d as n}from"./Card-DyITSrT5.js";import{B as u}from"./Badge-Dmpsa1zd.js";import{M as f}from"./MisconfiguredSettingsAlert-8TxFTSqR.js";import{u as k,aB as v,M as w,L as _,W as C,I as S,k as M,j,f as T,i as A,C as p,l as m,a2 as P}from"./vendor-DxGhd0kb.js";import"./Topbar-DS5R2nuh.js";import"./BrandingWrapper-DK418oSm.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";import"./app-CUdtZvAA.js";/* empty css            */import"./Alert-0kUZKT4N.js";function X({stats:s,recent_accounts:g,message_trends:B,top_accounts:o,misconfigured_settings:c}){const{auth:y}=k().props,b=t=>{const h={active:{variant:"success",label:"Active"},suspended:{variant:"warning",label:"Suspended"},disabled:{variant:"danger",label:"Disabled"}}[t]||{variant:"default",label:t};return e.jsx(u,{variant:h.variant,children:h.label})},a=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString();return e.jsx(N,{auth:y,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Platform Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Comprehensive overview of your WhatsApp Cloud Platform"})]}),c&&c.length>0&&e.jsx(f,{misconfiguredSettings:c,variant:"dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tenants"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:a(s.total_accounts)}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[s.active_accounts," active"]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:e.jsx(v,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Messages"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:a(s.total_messages)}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[s.messages_today," today"]})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:e.jsx(w,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Connections"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:s.active_connections}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.total_connections," total"]})]}),e.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:e.jsx(_,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Subscriptions"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:s.active_subscriptions}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[s.trialing_subscriptions," trialing"]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:e.jsx(C,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Message Statistics"}),e.jsx(n,{children:"Message volume and direction breakdown"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(S,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Inbound"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.inbound_messages)})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Outbound"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.outbound_messages)})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"This Week"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.messages_this_week)})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.messages_this_month)})]})]}),Object.keys(s.message_statuses).length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status Breakdown"}),e.jsx("div",{className:"space-y-2",children:Object.entries(s.message_statuses).map(([t,x])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:t}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a(x)})]},t))})]})]})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Template Statistics"}),e.jsx(n,{children:"Template approval and status overview"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Approved"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.approved_templates)})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(T,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.pending_templates)})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(A,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.rejected_templates)})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a(s.total_templates)})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Connection Health"}),e.jsx(n,{children:"WhatsApp connection status monitoring"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Active Connections"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.active_connections," of ",s.total_connections," connections"]})]})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[s.total_connections>0?Math.round(s.active_connections/s.total_connections*100):0,"%"]})]}),s.connections_with_errors>0&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Connections with Errors"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requires attention"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:s.connections_with_errors})]}),s.past_due_subscriptions>0&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Past Due Subscriptions"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment required"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s.past_due_subscriptions})]})]})})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Top Tenants by Volume"}),e.jsx(n,{children:"Most active tenants (last 30 days)"})]}),e.jsx(l,{children:o.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No message data available"}):e.jsx("div",{className:"space-y-3",children:o.map((t,x)=>e.jsxs(m,{href:route("platform.accounts.show",{account:t.id}),className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-bold text-sm",children:x+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.slug})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a(t.message_count)})]})]},t.id))})})]})]}),e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Recent Tenants"}),e.jsx(n,{children:"Newly created tenants"})]}),e.jsx(m,{href:route("platform.accounts.index"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]})}),e.jsx(l,{children:g.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No tenants yet"}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:g.map(t=>e.jsx(m,{href:route("platform.accounts.show",{account:t.id}),className:"block p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),b(t.status)]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Owner: ",t.owner.name," (",t.owner.email,")"]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Created: ",new Date(t.created_at).toLocaleString()]})]})})},t.id))})})]})]})})}export{X as default};
