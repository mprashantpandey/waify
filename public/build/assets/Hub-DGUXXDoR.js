import{r as v,j as e}from"./react-BhzSerM2.js";import{P as N}from"./PlatformShell-Bb_kh9A7.js";import{H as f,q as m}from"./vendor-YQoUUhbX.js";import{C as t,b as r,c as i,d as l,a as n}from"./Card-CRSrZ5HZ.js";import{T as k,a as b,b as d,c}from"./Tabs-BpIUtOMT.js";import"./Topbar-D6SeU-QE.js";import"./Badge-C6d-QEGL.js";import"./app-DjsbE74r.js";/* empty css            */import"./BrandingWrapper-Djq-D_tN.js";import"./GlobalFlashHandler-DjMhmIiM.js";import"./useToast-C37H2DkG.js";function U({openThreads:o,closedThreads:x,liveThreads:g,faqs:h}){const[y,p]=v.useState(""),u=h.filter(s=>{const a=y.trim().toLowerCase();return a?s.question.toLowerCase().includes(a)||s.answer.toLowerCase().includes(a):!0}),j=s=>{if(!s)return"—";const a=new Date(s).getTime()-Date.now();return a<=0?"Overdue":`Due in ${Math.ceil(a/(1e3*60*60))}h`};return e.jsxs(N,{children:[e.jsx(f,{title:"Support Hub"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Support Hub"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Live chat, tickets, and FAQs"})]}),e.jsxs(k,{defaultValue:"live",children:[e.jsxs(b,{className:"w-full justify-start",children:[e.jsx(d,{value:"live",children:"Live Chats"}),e.jsx(d,{value:"tickets",children:"Open Tickets"}),e.jsx(d,{value:"history",children:"Previous Chats"}),e.jsx(d,{value:"status",children:"Status Portal"}),e.jsx(d,{value:"faqs",children:"FAQs"})]}),e.jsx(c,{value:"live",className:"space-y-4",children:e.jsxs(t,{className:"border-0 shadow-lg",children:[e.jsxs(r,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:[e.jsx(i,{className:"text-xl font-bold",children:"Live Chats"}),e.jsx(l,{children:"Tenants requesting a live agent"})]}),e.jsx(n,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[g.length===0&&e.jsx("div",{className:"p-6 text-sm text-gray-500 dark:text-gray-400",children:"No live agent requests right now."}),g.map(s=>e.jsx(m,{href:route("platform.support.show",{thread:s.slug??s.id}),className:"block px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-800/40 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.subject}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Priority: ",s.priority??"normal"," · Assignee: ",s.assignee?.name||"Unassigned"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tenant: ",s.account?.name??"Unknown"," · ",s.account?.owner?.email||"—"]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.last_message_at?new Date(s.last_message_at).toLocaleString():"—"})]})},s.id))]})})]})}),e.jsx(c,{value:"tickets",className:"space-y-4",children:e.jsxs(t,{className:"border-0 shadow-lg",children:[e.jsxs(r,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[e.jsx(i,{className:"text-xl font-bold",children:"Open Tickets"}),e.jsx(l,{children:"All open support requests"})]}),e.jsx(n,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[o.length===0&&e.jsx("div",{className:"p-6 text-sm text-gray-500 dark:text-gray-400",children:"No open tickets."}),o.map(s=>e.jsx(m,{href:route("platform.support.show",{thread:s.slug??s.id}),className:"block px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-800/40 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.subject}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Priority: ",s.priority??"normal"," · Assignee: ",s.assignee?.name||"Unassigned"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tenant: ",s.account?.name??"Unknown"," · ",s.account?.owner?.email||"—"]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.last_message_at?new Date(s.last_message_at).toLocaleString():"—"})]})},s.id))]})})]})}),e.jsx(c,{value:"history",className:"space-y-4",children:e.jsxs(t,{className:"border-0 shadow-lg",children:[e.jsxs(r,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[e.jsx(i,{className:"text-xl font-bold",children:"Previous Chats"}),e.jsx(l,{children:"Closed tickets and past conversations"})]}),e.jsx(n,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[x.length===0&&e.jsx("div",{className:"p-6 text-sm text-gray-500 dark:text-gray-400",children:"No previous chats yet."}),x.map(s=>e.jsx(m,{href:route("platform.support.show",{thread:s.slug??s.id}),className:"block px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-800/40 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.subject}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Priority: ",s.priority??"normal"," · Assignee: ",s.assignee?.name||"Unassigned"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tenant: ",s.account?.name??"Unknown"," · ",s.account?.owner?.email||"—"]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.last_message_at?new Date(s.last_message_at).toLocaleString():"—"})]})},s.id))]})})]})}),e.jsx(c,{value:"status",className:"space-y-4",children:e.jsxs(t,{className:"border-0 shadow-lg",children:[e.jsxs(r,{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20",children:[e.jsx(i,{className:"text-xl font-bold",children:"Status Portal"}),e.jsx(l,{children:"Track SLA and due dates across tickets"})]}),e.jsx(n,{className:"p-6 space-y-4",children:[...o,...x].map(s=>e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.subject}),e.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400",children:s.status})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Priority: ",s.priority??"normal"," · Category: ",s.category??"—"," · Assignee:"," ",s.assignee?.name||"Unassigned"]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["First response due:"," ",s.first_response_due_at?new Date(s.first_response_due_at).toLocaleString():"—"]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Resolution due: ",s.due_at?new Date(s.due_at).toLocaleString():"—"]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["SLA: ",j(s.due_at)," · First response: ",j(s.first_response_due_at)]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Escalation level: ",s.escalation_level??0]})]},s.id))})]})}),e.jsx(c,{value:"faqs",className:"space-y-4",children:e.jsxs(t,{className:"border-0 shadow-lg",children:[e.jsxs(r,{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20",children:[e.jsx(i,{className:"text-xl font-bold",children:"FAQs"}),e.jsx(l,{children:"Shared answers for tenants"})]}),e.jsxs(n,{className:"p-6 space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:y,onChange:s=>p(s.target.value),className:"w-full rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-700 dark:text-gray-200",placeholder:"Search FAQs..."})}),u.length===0&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No FAQs matched your search."}),u.map((s,a)=>e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.question}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.answer})]},a))]})]})})]})]})]})}export{U as default};
