import{r as f,j as e}from"./react-BhzSerM2.js";import{G as v,H as A,l as y,N as L,a0 as N,aj as _,ab as H,B as P,e as q}from"./vendor-DxGhd0kb.js";import{A as V}from"./AppShell-CnGjwf4E.js";import{C as p,b as G,c as O,a as u}from"./Card-C0UbNSBw.js";import{B as R}from"./Badge-caKmql8_.js";import{B as a}from"./app-DPPhUdLQ.js";import{T as o}from"./TextInput-DRXLElIV.js";import{I as h}from"./InputLabel-qVeuR0hO.js";import{I as C}from"./InputError-6mWSc7R2.js";import{u as U}from"./useToast-m6H8bvjE.js";import{E as $}from"./EmptyState-C-qCOnBR.js";import"./Topbar-Dwfvu6i0.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./BrandingWrapper-DK418oSm.js";import"./Alert-BzIxRK4T.js";import"./CookieConsentBanner-vD27yUYp.js";/* empty css            */function me({account:J,tags:j}){const{toast:r}=U(),[b,i]=f.useState(null),[c,n]=f.useState(!1),{data:l,setData:d,post:w,processing:k,errors:T,reset:g}=v({name:"",color:"#3B82F6",description:""}),S=s=>{s.preventDefault(),w(route("app.contacts.tags.store"),{onSuccess:()=>{r.success("Tag created"),n(!1),g()},onError:()=>r.error("Failed to create tag")})},E=s=>{confirm(`Delete tag "${s.name}"? Contacts will keep their data but this tag will be removed.`)&&q.delete(route("app.contacts.tags.destroy",{tag:s.id}),{onSuccess:()=>r.success("Tag deleted"),onError:()=>r.error("Failed to delete tag")})},D=({tag:s})=>{const{data:m,setData:x,put:I,processing:z,errors:B,reset:K}=v({name:s.name,color:s.color,description:s.description||""}),F=t=>{t.preventDefault(),I(route("app.contacts.tags.update",{tag:s.id}),{onSuccess:()=>{i(null),r.success("Tag updated")},onError:()=>r.error("Failed to update tag")})};return e.jsxs("form",{onSubmit:F,className:"flex flex-wrap items-end gap-2 mt-2",children:[e.jsx(o,{value:m.name,onChange:t=>x("name",t.target.value),className:"w-40",required:!0}),e.jsx("input",{type:"color",value:m.color,onChange:t=>x("color",t.target.value),className:"h-8 w-12 rounded border"}),e.jsx(o,{value:m.description,onChange:t=>x("description",t.target.value),className:"w-48",placeholder:"Description"}),e.jsx(a,{type:"submit",size:"sm",disabled:z,children:"Save"}),e.jsx(a,{type:"button",size:"sm",variant:"secondary",onClick:()=>i(null),children:"Cancel"}),e.jsx(C,{message:B.name})]})};return e.jsxs(V,{children:[e.jsx(A,{title:"Contact Tags"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(y,{href:route("app.contacts.index"),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-4",children:[e.jsx(L,{className:"h-4 w-4"}),"Back to Contacts"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Contact Tags"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Organize contacts with tags. Use tags in filters and segments."})]}),e.jsxs(a,{onClick:()=>n(!c),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add Tag"]})]})]}),c&&e.jsxs(p,{children:[e.jsx(G,{children:e.jsx(O,{children:"New tag"})}),e.jsx(u,{children:e.jsxs("form",{onSubmit:S,className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-48",children:[e.jsx(h,{value:"Name"}),e.jsx(o,{value:l.name,onChange:s=>d("name",s.target.value),className:"mt-1",required:!0}),e.jsx(C,{message:T.name})]}),e.jsxs("div",{className:"w-32",children:[e.jsx(h,{value:"Color"}),e.jsx("input",{type:"color",value:l.color,onChange:s=>d("color",s.target.value),className:"mt-1 h-10 w-full rounded border border-gray-300 dark:border-gray-700"})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(h,{value:"Description (optional)"}),e.jsx(o,{value:l.description,onChange:s=>d("description",s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{type:"submit",disabled:k,children:"Create"}),e.jsx(a,{type:"button",variant:"secondary",onClick:()=>{n(!1),g()},children:"Cancel"})]})]})})]}),j.length===0&&!c?e.jsx(p,{children:e.jsx(u,{className:"py-16 text-center",children:e.jsx($,{icon:_,title:"No tags yet",description:"Create tags to organize your contacts (e.g. VIP, Lead, Customer).",action:e.jsxs(a,{onClick:()=>n(!0),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add Tag"]})})})}):e.jsx(p,{children:e.jsx(u,{className:"p-0",children:e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map(s=>e.jsxs("li",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"h-4 w-4 rounded-full shrink-0",style:{backgroundColor:s.color}}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.description})]}),e.jsxs(R,{variant:"default",className:"ml-2",children:[s.contacts_count," contact",s.contacts_count!==1?"s":""]})]}),e.jsx("div",{className:"flex items-center gap-2",children:b===s.id?e.jsx(D,{tag:s},s.id):e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"secondary",size:"sm",onClick:()=>i(s.id),children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx(y,{href:route("app.contacts.index",{tags:[s.id]}),children:e.jsx(a,{variant:"secondary",size:"sm",children:"View contacts"})}),e.jsx(a,{variant:"secondary",size:"sm",onClick:()=>E(s),children:e.jsx(P,{className:"h-4 w-4"})})]})})]},s.id))})})})]})]})}export{me as default};
