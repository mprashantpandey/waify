import{j as e}from"./react-B_HteL0F.js";import{H as w,l as n,N as _,am as C,aY as T,F as g,y as S,aP as A,k as B,aZ as D,B as E,j as h,f as F,C as L,e as l}from"./vendor-GYTC5Pip.js";import{A as H}from"./AppShell-HrBHfcoG.js";import{C as p,a as y,b as u,d as f,c as j}from"./Card-CUbeq4wI.js";import{B as t}from"./Topbar-CPirX8py.js";import{u as M,B as o}from"./app-C0WBMkkY.js";import{A as b}from"./Alert-BvOoLVKy.js";import{u as P}from"./useToast-Rch7lQVh.js";import"./GlobalFlashHandler-DpywDQft.js";import"./BrandingWrapper-DIBfDp2T.js";/* empty css            */function O({workspace:s,template:a}){const{toast:d}=P(),i=M(),N=()=>{l.post(route("app.whatsapp.templates.check-status",{workspace:s.slug,template:a.slug}),{},{onSuccess:()=>{d.success("Template status updated from Meta"),l.reload({only:["template"]})},onError:r=>{d.error(r?.message||"Failed to check template status")}})},v=async()=>{await i({title:"Archive Template",message:`Are you sure you want to archive "${a.name}"? You can restore it later.`,variant:"warning"})&&l.post(route("app.whatsapp.templates.archive",{workspace:s.slug,template:a.slug}),{},{onSuccess:()=>{d.success("Template archived successfully"),l.visit(route("app.whatsapp.templates.index",{workspace:s.slug}))},onError:()=>{d.error("Failed to archive template")}})},k=async()=>{await i({title:"Delete Template",message:`Are you sure you want to permanently delete "${a.name}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete"})&&l.delete(route("app.whatsapp.templates.destroy",{workspace:s.slug,template:a.slug}),{onSuccess:()=>{d.success("Template deleted successfully"),l.visit(route("app.whatsapp.templates.index",{workspace:s.slug}))},onError:()=>{d.error("Failed to delete template")}})},c=r=>{const m={approved:{variant:"success",label:"Approved"},pending:{variant:"warning",label:"Pending"},rejected:{variant:"danger",label:"Rejected"},paused:{variant:"default",label:"Paused"},disabled:{variant:"default",label:"Disabled"}}[r.toLowerCase()]||{variant:"default",label:r};return e.jsx(t,{variant:m.variant,className:"px-3 py-1",children:m.label})};return e.jsxs(H,{children:[e.jsx(w,{title:`${a.name} - Template`}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs(n,{href:route("app.whatsapp.templates.index",{workspace:s.slug}),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors mb-4",children:[e.jsx(_,{className:"h-4 w-4"}),"Back to Templates"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent flex items-center gap-3 mb-2",children:[a.name,c(a.status)]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(C,{className:"h-4 w-4"}),a.language]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(T,{className:"h-4 w-4"}),a.category]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(g,{className:"h-4 w-4"}),a.connection.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{href:route("app.whatsapp.templates.edit",{workspace:s.slug,template:a.slug}),children:e.jsxs(o,{variant:"secondary",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Edit"]})}),a.meta_template_id&&e.jsxs(o,{variant:"secondary",onClick:N,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Check Status"]}),e.jsx(n,{href:route("app.whatsapp.templates.send",{workspace:s.slug,template:a.slug}),children:e.jsxs(o,{className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg shadow-green-500/50",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Send Template"]})}),e.jsxs(o,{variant:"secondary",onClick:v,className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 dark:hover:bg-orange-900/20",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Archive"]}),e.jsxs(o,{variant:"secondary",onClick:k,className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),a.rejection_reason&&e.jsxs(b,{variant:"error",className:"border-red-200 dark:border-red-800",children:[e.jsx(h,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a.rejection_reason})]})]}),a.last_meta_error&&e.jsxs(b,{variant:"error",className:"border-red-200 dark:border-red-800",children:[e.jsx(h,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-1",children:"Meta Error"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a.last_meta_error})]})]}),e.jsxs(p,{className:"border-0 shadow-lg",children:[e.jsx(y,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:e.jsx(g,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(u,{className:"text-xl font-bold",children:"Template Preview"}),e.jsx(f,{children:"How your template will appear to recipients"})]})]})}),e.jsxs(j,{className:"p-6 space-y-6",children:[a.header_type&&a.header_text&&e.jsxs("div",{className:"p-5 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsxs(t,{variant:"info",className:"px-2 py-1 text-xs",children:["Header (",a.header_type,")"]})}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.header_text})]}),a.body_text&&e.jsxs("div",{className:"p-5 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(t,{variant:"default",className:"px-2 py-1 text-xs",children:"Body"}),a.variable_count>0&&e.jsxs(t,{variant:"info",className:"px-2 py-1 text-xs",children:[a.variable_count," variables"]})]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:a.body_text})]}),a.footer_text&&e.jsxs("div",{className:"p-5 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(t,{variant:"default",className:"px-2 py-1 text-xs",children:"Footer"})}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:a.footer_text})]}),a.has_buttons&&a.buttons.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(t,{variant:"default",className:"px-2 py-1 text-xs",children:"Buttons"})}),e.jsx("div",{className:"space-y-2",children:a.buttons.map((r,x)=>e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl border border-blue-200 dark:border-blue-800 flex items-center justify-between hover:shadow-md transition-shadow",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r.text}),e.jsx(t,{variant:"info",className:"px-3 py-1",children:r.type})]},x))})]})]})]}),e.jsxs(p,{className:"border-0 shadow-lg",children:[e.jsx(y,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl",children:e.jsx(F,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(u,{className:"text-xl font-bold",children:"Template Details"}),e.jsx(f,{children:"Metadata and sync information"})]})]})}),e.jsx(j,{className:"p-6",children:e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsx("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Name"}),e.jsx("dd",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.name})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsx("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Language"}),e.jsx("dd",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.language})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsx("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Category"}),e.jsx("dd",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.category})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsx("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Status"}),e.jsx("dd",{children:c(a.status)})]}),a.quality_score&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsx("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Quality Score"}),e.jsx("dd",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.quality_score})]}),a.last_synced_at&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl",children:[e.jsxs("dt",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(L,{className:"h-3.5 w-3.5"}),"Last Synced"]}),e.jsx("dd",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(a.last_synced_at).toLocaleString()})]})]})})]})]})]})}export{O as default};
