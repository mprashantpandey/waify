import{r as f,j as e}from"./react-BhzSerM2.js";import{u as v,G as N,H as k,l as w}from"./vendor-DxGhd0kb.js";import{A as C}from"./AppShell-CAKOp2C5.js";import{C as c,b as m,c as n,d as g,a as x}from"./Card-BQiuQfXG.js";import{B as S}from"./app-DAXd03gX.js";import{T as p}from"./TextInput-DRXLElIV.js";import{I as l}from"./InputLabel-qVeuR0hO.js";import{I as o}from"./InputError-6mWSc7R2.js";import"./Topbar-DGBYSxei.js";import"./Badge-BxV76wwp.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";import"./BrandingWrapper-DK418oSm.js";import"./Alert-DwA9ZChZ.js";import"./CookieConsentBanner-pD2YLMzO.js";/* empty css            */function Y({account:_,threads:u}){const{flash:I,branding:d}=v().props,{data:i,setData:a,post:y,processing:h,errors:t,reset:b}=N({subject:"",message:"",category:"",tags:"",attachments:[]}),r=f.useMemo(()=>({email:d?.support_email,phone:d?.support_phone}),[d?.support_email,d?.support_phone]),j=s=>{s.preventDefault(),y(route("app.support.store",{}),{forceFormData:!0,onSuccess:()=>b()})};return e.jsxs(C,{children:[e.jsx(k,{title:"Support"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Support"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Create a support request or follow up on existing tickets"})]}),e.jsxs(c,{className:"border-0 shadow-lg",children:[e.jsxs(m,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:[e.jsx(n,{className:"text-xl font-bold",children:"Live Chat Access"}),e.jsx(g,{children:"Pick the fastest way to reach us"})]}),e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Support Inbox"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Start a ticket right here and keep the full history."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Email & Phone"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r.email||r.phone?`${r.email??"—"} ${r.phone?`· ${r.phone}`:""}`:"Ask your admin to add support email/phone."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Live Chat Widget"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use the live chat bubble at the bottom-right of your screen."})]})]})})]}),e.jsxs(c,{className:"border-0 shadow-lg",children:[e.jsxs(m,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:[e.jsx(n,{className:"text-xl font-bold",children:"New Request"}),e.jsx(g,{children:"Tell us how we can help"})]}),e.jsx(x,{className:"p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"subject",value:"Subject"}),e.jsx(p,{id:"subject",type:"text",value:i.subject,onChange:s=>a("subject",s.target.value),className:"mt-1 block w-full",placeholder:"Issue with webhook setup"}),e.jsx(o,{message:t.subject,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",value:"Category"}),e.jsx(p,{id:"category",type:"text",value:i.category,onChange:s=>a("category",s.target.value),className:"mt-1 block w-full",placeholder:"Billing, WhatsApp, Templates..."}),e.jsx(o,{message:t.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"tags",value:"Tags (comma separated)"}),e.jsx(p,{id:"tags",type:"text",value:i.tags,onChange:s=>a("tags",s.target.value),className:"mt-1 block w-full",placeholder:"urgent, webhook, api"}),e.jsx(o,{message:t.tags,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"message",value:"Message"}),e.jsx("textarea",{id:"message",value:i.message,onChange:s=>a("message",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",rows:4,placeholder:"Describe your issue..."}),e.jsx(o,{message:t.message,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"attachments",value:"Attachments"}),e.jsx("input",{id:"attachments",type:"file",multiple:!0,onChange:s=>a("attachments",Array.from(s.target.files||[])),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:rounded-md file:border-0 file:bg-gray-100 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-gray-700 hover:file:bg-gray-200 dark:file:bg-gray-800 dark:file:text-gray-200 dark:hover:file:bg-gray-700"}),e.jsx(o,{message:t.attachments,className:"mt-2"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{type:"submit",disabled:h,children:h?"Sending...":"Submit"})})]})})]}),e.jsxs(c,{className:"border-0 shadow-lg",children:[e.jsxs(m,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[e.jsx(n,{className:"text-xl font-bold",children:"Your Requests"}),e.jsx(g,{children:"Recent conversations with support"})]}),e.jsx(x,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[u.length===0&&e.jsx("div",{className:"p-6 text-sm text-gray-500 dark:text-gray-400",children:"No support requests yet."}),u.map(s=>e.jsx(w,{href:route("app.support.show",{thread:s.slug??s.id}),className:"block px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-800/40 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.subject}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last message: ",s.last_message_at?new Date(s.last_message_at).toLocaleString():"—"]})]}),e.jsx("span",{className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400",children:s.status})]})},s.id))]})})]})]})]})}export{Y as default};
