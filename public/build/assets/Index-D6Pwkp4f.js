import{j as e}from"./react-B_HteL0F.js";import{u,H as y,o as N,n,q as v,s as w,e as o}from"./vendor-GYTC5Pip.js";import{P as k}from"./PlatformShell-D3A5CZuP.js";import{C as x,a as m,b as h,d as g,c as p}from"./Card-CUbeq4wI.js";import{B as t}from"./Topbar-CPirX8py.js";import{u as C,B as _}from"./app-C0WBMkkY.js";import{u as M}from"./useToast-Rch7lQVh.js";import"./BrandingWrapper-DIBfDp2T.js";import"./GlobalFlashHandler-DpywDQft.js";/* empty css            */function R({modules:l}){const{addToast:i}=M(),j=C(),{flash:a}=u().props,f=async s=>{if(s.is_core){i({title:"Cannot Disable",description:"Core modules cannot be disabled at the platform level.",variant:"error"});return}const r=s.is_enabled?"disable":"enable";await j({title:`${r==="enable"?"Enable":"Disable"} Module`,message:`Are you sure you want to ${r} ${s.name} at the platform level? This will affect all workspaces.`,variant:r==="enable"?"info":"warning"})&&o.post(route("platform.modules.toggle",{module:s.id}),{},{preserveScroll:!0,onSuccess:()=>{i({title:"Module Updated",description:`${s.name} has been ${r}d at the platform level.`,variant:"success"}),o.reload({only:["modules"]})},onError:b=>{i({title:"Error",description:b?.message||"Failed to update module status.",variant:"error"})}})},d=l.filter(s=>s.is_core),c=l.filter(s=>!s.is_core);return e.jsxs(k,{children:[e.jsx(y,{title:"Module Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Module Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enable or disable modules systemwide. Disabled modules will not be available to any workspace."})]}),a?.success&&e.jsx("div",{className:"rounded-md bg-green-50 dark:bg-green-900/20 p-4",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:a.success})}),a?.error&&e.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:a.error})}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-yellow-500"}),"Core Modules"]}),e.jsx(g,{children:"Essential modules that cannot be disabled"})]})})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:d.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No core modules found."}):d.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:s.is_enabled?"success":"default",children:s.is_enabled?"Enabled":"Disabled"}),e.jsx(t,{variant:"info",children:"Core"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.workspace_count," workspace",s.workspace_count!==1?"s":""," using"]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(t,{variant:"warning",children:"Cannot Disable"})})]},s.id))})})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-blue-500"}),"Addon Modules"]}),e.jsx(g,{children:"Optional modules that can be enabled or disabled"})]})})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:c.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No addon modules found."}):c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:s.is_enabled?"success":"default",children:s.is_enabled?"Enabled":"Disabled"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.workspace_count," workspace",s.workspace_count!==1?"s":""," using"]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(_,{variant:s.is_enabled?"danger":"primary",size:"sm",onClick:()=>f(s),children:s.is_enabled?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Disable"]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Enable"]})})})]},s.id))})})]})]})]})}export{R as default};
