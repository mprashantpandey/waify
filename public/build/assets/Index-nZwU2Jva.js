import{r as m,j as e}from"./react-B_HteL0F.js";import{u as f,aa as k,D as x,l as o,a5 as v,e as p}from"./vendor-GYTC5Pip.js";import{P as N}from"./PlatformShell-D3A5CZuP.js";import{C as n,c,a as w,b}from"./Card-CUbeq4wI.js";import{B as S}from"./Topbar-CPirX8py.js";import{B as s}from"./app-C0WBMkkY.js";import{T as C}from"./TextInput-79R2a16S.js";import"./BrandingWrapper-DIBfDp2T.js";import"./GlobalFlashHandler-DpywDQft.js";import"./useToast-Rch7lQVh.js";/* empty css            */function P({users:t,filters:h}){const{auth:g}=f().props,[l,u]=m.useState(h),[r,i]=m.useState(null),d=()=>{p.get(route("platform.users.index"),l,{preserveState:!0,preserveScroll:!0})},y=()=>{if(!r)return;const a=r.action==="make"?"platform.users.make-super-admin":"platform.users.remove-super-admin";p.post(route(a,{user:r.userId}),{},{onSuccess:()=>{i(null)}})};return e.jsx(N,{auth:g,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Users"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage all users on the platform"})]}),e.jsx(n,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(C,{type:"text",value:l.search,onChange:a=>u({...l,search:a.target.value}),onKeyDown:a=>a.key==="Enter"&&d(),className:"pl-10",placeholder:"Search users..."})]})}),e.jsx(s,{onClick:d,children:"Apply Filters"})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.is_super_admin?e.jsxs(S,{variant:"info",className:"flex items-center gap-1 w-fit",children:[e.jsx(x,{className:"h-3 w-3"}),"Super Admin"]}):e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(o,{href:route("platform.users.show",{user:a.id}),children:e.jsxs(s,{variant:"ghost",size:"sm",children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"View"]})}),a.is_super_admin?e.jsx(s,{variant:"warning",size:"sm",onClick:()=>i({userId:a.id,action:"remove"}),children:"Remove Super Admin"}):e.jsxs(s,{variant:"info",size:"sm",onClick:()=>i({userId:a.id,action:"make"}),children:[e.jsx(x,{className:"h-4 w-4 mr-1"}),"Make Super Admin"]})]})})]},a.id))})]})})})}),t.links&&t.links.length>3&&e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.links.map((a,j)=>e.jsx(o,{href:a.url||"#",className:`px-3 py-2 rounded-lg text-sm ${a.active?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"} ${!a.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},j))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(n,{className:"w-full max-w-md",children:[e.jsx(w,{children:e.jsx(b,{children:r.action==="make"?"Make Super Admin":"Remove Super Admin"})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:r.action==="make"?"Are you sure you want to make this user a super admin? They will have full platform access.":"Are you sure you want to remove super admin status from this user?"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{variant:r.action==="make"?"info":"warning",onClick:y,children:"Confirm"}),e.jsx(s,{variant:"secondary",onClick:()=>i(null),children:"Cancel"})]})]})]})})]})})}export{P as default};
