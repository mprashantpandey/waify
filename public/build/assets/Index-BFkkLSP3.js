import{j as e}from"./react-BhzSerM2.js";import{H as x,l,N as o,A as d,a5 as m,C as i,f as g,i as p,j as h}from"./vendor-DxGhd0kb.js";import{A as y}from"./AppShell-CAKOp2C5.js";import{C as j,b as f,c as b,d as N,a as k}from"./Card-BQiuQfXG.js";import{B as u}from"./Badge-BxV76wwp.js";import{B as s}from"./app-DAXd03gX.js";import"./Topbar-DGBYSxei.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";import"./BrandingWrapper-DK418oSm.js";import"./Alert-DwA9ZChZ.js";import"./CookieConsentBanner-pD2YLMzO.js";/* empty css            */function I({account:v,executions:t}){const n=a=>{const r={success:{variant:"success",icon:h,label:"Success"},failed:{variant:"danger",icon:p,label:"Failed"},running:{variant:"warning",icon:g,label:"Running"},skipped:{variant:"default",icon:i,label:"Skipped"}}[a]||{variant:"default",icon:i,label:a},c=r.icon;return e.jsxs(u,{variant:r.variant,className:"flex items-center gap-1.5 px-3 py-1",children:[e.jsx(c,{className:"h-3.5 w-3.5"}),r.label]})};return e.jsxs(y,{children:[e.jsx(x,{title:"Execution Logs"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs(l,{href:route("app.chatbots.index",{}),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors mb-4",children:[e.jsx(o,{className:"h-4 w-4"}),"Back to Chatbots"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Execution Logs"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"View bot execution history and debug issues"})]})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsx(f,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:e.jsx(d,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(b,{className:"text-xl font-bold",children:"Recent Executions"}),e.jsx(N,{children:"Track bot flow executions and their results"})]})]})}),e.jsxs(k,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Bot / Flow"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Conversation"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800 bg-white dark:bg-gray-900",children:t.data.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-4",children:e.jsx(d,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No executions yet"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Bot executions will appear here"})]})}):t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:new Date(a.started_at).toLocaleString()}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.bot.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.flow.name})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:a.conversation?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.conversation.contact.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:a.conversation.contact.wa_id})]}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsxs("td",{className:"px-6 py-4",children:[n(a.status),a.error_message&&e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1 truncate max-w-xs",title:a.error_message,children:a.error_message})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:a.duration!==null?`${a.duration}ms`:"—"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(l,{href:route("app.chatbots.executions.show",{execution:a.id}),children:e.jsxs(s,{variant:"ghost",size:"sm",className:"rounded-xl",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),"View"]})})})]},a.id))})]})}),t.meta.last_page>1&&e.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(s,{onClick:()=>window.location.href=t.links.prev,disabled:!t.links.prev,variant:"secondary",size:"sm",className:"rounded-xl",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",t.meta.current_page," of ",t.meta.last_page]}),e.jsx(s,{onClick:()=>window.location.href=t.links.next,disabled:!t.links.next,variant:"secondary",size:"sm",className:"rounded-xl",children:"Next"})]})]})]})]})]})}export{I as default};
