import{r as v,j as e}from"./react-BhzSerM2.js";import{u as N,H as b,am as w,F as k,l as d,aB as _,a5 as C,e as S,i as T,f as F,j as E,C as L}from"./vendor-DxGhd0kb.js";import{P as I}from"./PlatformShell-ButczGpt.js";import{C as x,b as o,c as m,a as h,d as M}from"./Card-DyITSrT5.js";import{B as g}from"./Badge-Dmpsa1zd.js";import{I as A}from"./Input-D02iHWHz.js";import{L as i}from"./Label-BqxKKNxn.js";import"./Topbar-DS5R2nuh.js";import"./BrandingWrapper-DK418oSm.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";import"./app-CUdtZvAA.js";/* empty css            */function K({templates:t,filters:p,filter_options:c}){const{auth:u}=N().props,[s,r]=v.useState(p),y=()=>{S.get(route("platform.templates.index"),s,{preserveState:!0,preserveScroll:!0})},j=a=>{const n={APPROVED:{variant:"success",icon:E},PENDING:{variant:"warning",icon:F},REJECTED:{variant:"danger",icon:T}}[a]||{variant:"default",icon:L},f=n.icon;return e.jsxs(g,{variant:n.variant,className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),a]})};return e.jsxs(I,{auth:u,children:[e.jsx(b,{title:"Templates"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Message Templates"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage and monitor templates across all tenants"})]}),e.jsxs(x,{children:[e.jsx(o,{children:e.jsx(m,{children:"Filters"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(A,{id:"search",type:"text",placeholder:"Search templates...",value:s.search||"",onChange:a=>r({...s,search:a.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"filter-status",children:"Status"}),e.jsxs("select",{id:"filter-status",value:s.status||"",onChange:a=>r({...s,status:a.target.value||void 0}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"All Statuses"}),c.statuses.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"filter-account",children:"Tenant"}),e.jsxs("select",{id:"filter-account",value:s.account_id||"",onChange:a=>r({...s,account_id:a.target.value||void 0}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"All Tenants"}),c.accounts.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:y,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply Filters"})})]})})]}),e.jsxs(x,{children:[e.jsx(o,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(m,{children:"Templates"}),e.jsxs(M,{children:[t.total," total templates"]})]})})}),e.jsx(h,{children:t.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No templates found"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Template"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Language"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Last Synced"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),a.last_meta_error&&e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",a.last_meta_error]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs(d,{href:route("platform.accounts.show",{account:a.account.id}),className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx(_,{className:"h-3 w-3"}),a.account.name]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(a.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(g,{variant:"info",children:a.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.language}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.last_synced_at?new Date(a.last_synced_at).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs(d,{href:route("platform.templates.show",{template:a.slug}),className:"text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:[e.jsx(C,{className:"h-4 w-4"}),"View"]})})]},a.id))})]})}),t.last_page>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",t.per_page*(t.current_page-1)+1," to"," ",Math.min(t.per_page*t.current_page,t.total)," of"," ",t.total," results"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((a,l)=>a.url?e.jsx(d,{href:a.url,className:`px-3 py-2 rounded-md text-sm ${a.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,dangerouslySetInnerHTML:{__html:a.label}},l):e.jsx("span",{className:"px-3 py-2 rounded-md text-sm opacity-50 cursor-not-allowed bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.label}},l))})]})]})})]})]})]})}export{K as default};
