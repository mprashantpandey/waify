import{r as b,j as e}from"./react-BhzSerM2.js";import{u as v,am as w,l as m,a5 as N,aC as k,j as S,e as d}from"./vendor-DxGhd0kb.js";import{P as C}from"./PlatformShell-BRZ5kzkj.js";import{C as g,a as p}from"./Card-BQiuQfXG.js";import{B as T}from"./Badge-BxV76wwp.js";import{B as n}from"./app-DAXd03gX.js";import{T as D}from"./TextInput-DRXLElIV.js";import{u as E}from"./useNotifications-jJ5Yzg0i.js";import"./Topbar-DGBYSxei.js";import"./BrandingWrapper-DK418oSm.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";/* empty css            */function R({accounts:r,filters:h}){const{auth:u}=v().props,{confirm:c,toast:l}=E(),[s,o]=b.useState(h),x=()=>{d.get(route("platform.accounts.index"),s,{preserveState:!0,preserveScroll:!0})},y=async(a,t)=>{await c({title:"Disable Tenant",message:`Are you sure you want to disable "${t}"? Users will not be able to access it.`,variant:"danger",confirmText:"Disable",cancelText:"Cancel"})&&d.post(route("platform.accounts.disable",{account:a}),{reason:"Disabled by platform admin"},{onSuccess:()=>{l.success("Tenant disabled successfully")},onError:()=>{l.error("Failed to disable tenant")}})},f=async(a,t)=>{await c({title:"Enable Tenant",message:`Are you sure you want to enable "${t}"?`,variant:"info",confirmText:"Enable",cancelText:"Cancel"})&&d.post(route("platform.accounts.enable",{account:a}),{},{onSuccess:()=>{l.success("Tenant enabled successfully")},onError:()=>{l.error("Failed to enable tenant")}})},j=a=>{const i={active:{variant:"success",label:"Active"},suspended:{variant:"warning",label:"Suspended"},disabled:{variant:"danger",label:"Disabled"}}[a]||{variant:"default",label:a};return e.jsx(T,{variant:i.variant,children:i.label})};return e.jsx(C,{auth:u,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tenants"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage all tenants on the platform"})]})}),e.jsx(g,{children:e.jsx(p,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(D,{type:"text",value:s.search,onChange:a=>o({...s,search:a.target.value}),onKeyDown:a=>a.key==="Enter"&&x(),className:"pl-10",placeholder:"Search tenants..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:s.status,onChange:a=>o({...s,status:a.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"disabled",children:"Disabled"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(n,{onClick:x,className:"w-full",children:"Apply Filters"})})]})})}),e.jsx(g,{children:e.jsx(p,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:r.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.slug})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:a.owner.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.owner.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(a.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(m,{href:route("platform.accounts.show",{account:a.id}),children:e.jsxs(n,{variant:"ghost",size:"sm",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"View"]})}),a.status==="active"?e.jsxs(n,{variant:"danger",size:"sm",onClick:()=>y(a.id,a.name),children:[e.jsx(k,{className:"h-4 w-4 mr-1"}),"Disable"]}):e.jsxs(n,{variant:"success",size:"sm",onClick:()=>f(a.id,a.name),children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"Enable"]})]})})]},a.id))})]})})})}),r.links&&r.links.length>3&&e.jsx("div",{className:"flex items-center justify-center gap-2",children:r.links.map((a,t)=>e.jsx(m,{href:a.url||"#",className:`px-3 py-2 rounded-lg text-sm ${a.active?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"} ${!a.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},t))})]})})}export{R as default};
