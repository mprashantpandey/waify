import{j as e,r as d}from"./react-B_HteL0F.js";import{u as f,ah as k,ai as j,aj as v,ak as N,D as c,l as s,ae as u,E as w,V as S,e as M}from"./vendor-GYTC5Pip.js";import{c as C}from"./app-C0WBMkkY.js";function E({className:t,variant:l="default",children:a,...o}){const n={default:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"};return e.jsx("span",{className:C("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n[l],t),...o,children:a})}function z({workspace:t,workspaces:l,user:a,onMenuClick:o}){const{impersonation:n}=f().props,[x,g]=d.useState(!1),[m,i]=d.useState(!1),[h,b]=d.useState(!1);d.useEffect(()=>{const r=localStorage.getItem("darkMode")==="true"||!localStorage.getItem("darkMode")&&window.matchMedia("(prefers-color-scheme: dark)").matches;g(r),r&&document.documentElement.classList.add("dark")},[]);const p=()=>{const r=!x;g(r),localStorage.setItem("darkMode",String(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},y=r=>{M.post(route("workspaces.switch",{workspace:r}))};return e.jsx("header",{className:"sticky top-0 z-20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:pl-80",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o&&e.jsx("button",{onClick:o,className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:e.jsx(k,{className:"h-5 w-5"})}),t&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!m),className:"flex items-center gap-2 px-4 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-sm font-semibold text-gray-900 dark:text-gray-100 transition-all duration-200 border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),e.jsx("span",{children:t.name}),e.jsx(j,{className:"h-4 w-4"})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-20 backdrop-blur-lg",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Workspaces"})}),l.map(r=>e.jsx("button",{onClick:()=>{y(r.slug),i(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-colors ${r.id===t.id?"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 text-blue-700 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${r.id===t.id?"bg-blue-500":"bg-gray-400"}`}),r.name]})},r.id))]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:p,className:"p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-all duration-200 hover:scale-110",children:x?e.jsx(v,{className:"h-5 w-5"}):e.jsx(N,{className:"h-5 w-5"})}),a&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>b(!h),className:"flex items-center gap-2 px-2 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-lg",children:a.name.charAt(0).toUpperCase()})}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>b(!1)}),e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-20 backdrop-blur-lg",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-lg",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.email})]}),a.is_super_admin&&e.jsxs(E,{variant:"info",className:"flex items-center gap-1 text-xs px-2 py-0.5",children:[e.jsx(c,{className:"h-3 w-3"}),"Admin"]})]})}),a.is_super_admin&&e.jsxs(s,{href:route("platform.dashboard"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(c,{className:"h-4 w-4"}),"Platform Panel"]}),a.is_super_admin&&e.jsxs(s,{href:route("platform.support.hub"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(u,{className:"h-4 w-4"}),"Support Inbox"]}),t&&e.jsxs(s,{href:route("app.support.hub",{workspace:t.slug}),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(u,{className:"h-4 w-4"}),"Support"]}),n?.active&&e.jsxs(s,{href:route("impersonate.leave"),method:"post",className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:[e.jsx(c,{className:"h-4 w-4"}),"Stop Impersonation"]}),e.jsxs(s,{href:route("profile.edit"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(w,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(s,{href:route("logout"),method:"post",className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx(S,{className:"h-4 w-4"}),"Logout"]})]})]})]})]})]})})}export{E as B,z as T};
