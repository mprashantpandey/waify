import{j as e}from"./react-B_HteL0F.js";import{A as b}from"./AppShell-HrBHfcoG.js";import{C as d,c as g,a as y,b as N}from"./Card-CUbeq4wI.js";import{B as n}from"./Topbar-CPirX8py.js";import{u as v,B as w}from"./app-C0WBMkkY.js";import{u as k,H as C,n as m,o as x,Z as M,p as _,g as $,q as E,s as T,e as p}from"./vendor-GYTC5Pip.js";import{u as F}from"./useToast-Rch7lQVh.js";import"./GlobalFlashHandler-DpywDQft.js";import"./BrandingWrapper-DIBfDp2T.js";/* empty css            */function K({modules:i,workspace:h,current_plan:l}){const{addToast:a}=F(),f=v(),o=k(),{flash:A}=o.props,r=h||o.props.workspace,j=async s=>{if(!s.can_toggle){a({title:"Cannot toggle module",description:"This module is not available on your current plan.",variant:"error"});return}const t=s.enabled?"disable":"enable";if(!await f({title:`${t==="enable"?"Enable":"Disable"} Module`,message:`Are you sure you want to ${t} ${s.name}?`,variant:t==="enable"?"info":"warning"}))return;if(!r?.slug){console.error("Workspace slug missing:",r),a({title:"Error",description:"Workspace information is missing.",variant:"error"});return}if(!s?.key){console.error("Module key missing:",s),a({title:"Error",description:"Module information is missing.",variant:"error"});return}const c=`/app/${r.slug}/modules/${s.key}/toggle`;console.log("Toggling module:",{workspace:r.slug,moduleKey:s.key,url:c}),p.post(c,{},{preserveScroll:!0,onSuccess:()=>{a({title:"Module updated",description:`${s.name} has been ${s.enabled?"disabled":"enabled"}.`,variant:"success"}),p.reload({only:["modules"]})},onError:u=>{a({title:"Error",description:u?.message||"Failed to update module status.",variant:"error"})}})};return e.jsxs(b,{children:[e.jsx(C,{title:"Modules"}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Modules"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:l?e.jsxs(e.Fragment,{children:["Manage modules available on your ",e.jsx("span",{className:"font-semibold",children:l.name})," plan"]}):"Manage your workspace modules and features"})]})})}),i.length===0?e.jsx(d,{className:"border-0 shadow-lg",children:e.jsxs(g,{className:"p-12 text-center",children:[e.jsx(m,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Modules Available"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No modules are available on your current plan. Please upgrade to access more features."})]})}):e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(s=>e.jsxs(d,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-300 group overflow-hidden ${s.enabled?"ring-2 ring-green-500/20":""}`,children:[e.jsx(y,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 pb-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`p-3 rounded-xl ${s.enabled?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-gray-400 to-gray-500"} group-hover:scale-110 transition-transform duration-200`,children:e.jsx(m,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:s.name}),s.is_in_plan&&!s.is_core&&e.jsx("span",{title:"Included in your plan",children:e.jsx(x,{className:"h-4 w-4 text-yellow-500"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.is_core&&e.jsxs(n,{variant:"info",className:"text-xs",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),"Core"]}),s.is_in_plan&&!s.is_core&&e.jsxs(n,{variant:"success",className:"text-xs",children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),"In Plan"]})]})]})]})})}),e.jsxs(g,{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:s.description||"No description available"}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(n,{variant:s.enabled?"success":"default",className:"flex items-center gap-1.5 px-3 py-1",children:s.enabled?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-3.5 w-3.5"}),"Enabled"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Disabled"]})})}),s.can_toggle&&e.jsx(w,{variant:s.enabled?"secondary":"primary",size:"sm",onClick:()=>j(s),className:"flex items-center gap-2",children:s.enabled?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-4 w-4"}),"Disable"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4"}),"Enable"]})})]})]})]},s.id))})]})]})}export{K as default};
