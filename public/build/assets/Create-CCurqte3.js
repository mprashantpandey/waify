import{r as f,j as e}from"./react-BhzSerM2.js";import{A as w}from"./AppShell-CnGjwf4E.js";import{C as n,b as d,c,d as m,a as h}from"./Card-C0UbNSBw.js";import{B as g}from"./app-DPPhUdLQ.js";import{T as l}from"./TextInput-DRXLElIV.js";import{I as t}from"./InputLabel-qVeuR0hO.js";import{I as i}from"./InputError-6mWSc7R2.js";import{G as y,H as N,l as x,N as _,ax as C,g as k}from"./vendor-DxGhd0kb.js";import"./Topbar-Dwfvu6i0.js";import"./Badge-caKmql8_.js";import"./GlobalFlashHandler-xHP6pVTU.js";import"./useToast-m6H8bvjE.js";import"./BrandingWrapper-DK418oSm.js";import"./Alert-BzIxRK4T.js";import"./CookieConsentBanner-vD27yUYp.js";/* empty css            */function J({account:W,connections:p}){const{data:s,setData:r,post:u,processing:j,errors:o}=y({name:"",whatsapp_connection_id:"",whatsapp_phone:"",position:"bottom-right",welcome_message:"Hello! How can we help you?",theme:{primary:"#25D366",background:"#075E54"},show_on:{include:"",exclude:""},is_active:!0});f.useEffect(()=>{if(!s.whatsapp_connection_id)return;const a=p.find(b=>String(b.id)===String(s.whatsapp_connection_id));a?.business_phone&&!s.whatsapp_phone&&r("whatsapp_phone",a.business_phone)},[s.whatsapp_connection_id]);const v=a=>{a.preventDefault(),u(route("app.floaters.store",{}))};return e.jsxs(w,{children:[e.jsx(N,{title:"Create Widget"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs(x,{href:route("app.floaters",{}),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors mb-4",children:[e.jsx(_,{className:"h-4 w-4"}),"Back to Widgets"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Create WhatsApp Widget"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Configure a floating chat bubble for your website."})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsxs(d,{children:[e.jsx(c,{children:"Widget Details"}),e.jsx(m,{children:"Basic information for your widget."})]}),e.jsxs(h,{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",value:"Widget Name"}),e.jsx(l,{id:"name",value:s.name,onChange:a=>r("name",a.target.value),className:"mt-1 w-full",placeholder:"Website Chat Bubble"}),e.jsx(i,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"WhatsApp Connection (optional)"}),e.jsxs("select",{value:s.whatsapp_connection_id,onChange:a=>r("whatsapp_connection_id",a.target.value),className:"mt-1 w-full rounded-xl border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm",children:[e.jsx("option",{value:"",children:"Select connection"}),p.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(i,{message:o.whatsapp_connection_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"WhatsApp Phone (required)"}),e.jsx(l,{value:s.whatsapp_phone,onChange:a=>r("whatsapp_phone",a.target.value),className:"mt-1 w-full",placeholder:"+15551234567"}),e.jsx(i,{message:o.whatsapp_phone,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Welcome Message"}),e.jsx(l,{value:s.welcome_message,onChange:a=>r("welcome_message",a.target.value),className:"mt-1 w-full"}),e.jsx(i,{message:o.welcome_message,className:"mt-2"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Position"}),e.jsxs("select",{value:s.position,onChange:a=>r("position",a.target.value),className:"mt-1 w-full rounded-xl border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm",children:[e.jsx("option",{value:"bottom-right",children:"Bottom right"}),e.jsx("option",{value:"bottom-left",children:"Bottom left"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-6",children:[e.jsx("input",{type:"checkbox",checked:s.is_active,onChange:a=>r("is_active",a.target.checked)}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Widget is active"})]})]})]})]}),e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(c,{children:"Theme"})]}),e.jsx(m,{children:"Customize the bubble colors."})]}),e.jsxs(h,{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Primary Color"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("input",{type:"color",value:s.theme.primary,onChange:a=>r("theme",{...s.theme,primary:a.target.value}),className:"h-10 w-14 rounded-lg border border-gray-200"}),e.jsx(l,{value:s.theme.primary,onChange:a=>r("theme",{...s.theme,primary:a.target.value}),className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Header Background"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("input",{type:"color",value:s.theme.background,onChange:a=>r("theme",{...s.theme,background:a.target.value}),className:"h-10 w-14 rounded-lg border border-gray-200"}),e.jsx(l,{value:s.theme.background,onChange:a=>r("theme",{...s.theme,background:a.target.value}),className:"flex-1"})]})]})]})]}),e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsxs(d,{children:[e.jsx(c,{children:"Page Targeting"}),e.jsx(m,{children:"Show or hide the widget on specific pages (one per line, supports * wildcard)."})]}),e.jsxs(h,{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Show on"}),e.jsx("textarea",{value:s.show_on.include,onChange:a=>r("show_on",{...s.show_on,include:a.target.value}),className:"mt-1 w-full rounded-xl border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm min-h-[120px]",placeholder:`/pricing
/blog/*`})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Hide on"}),e.jsx("textarea",{value:s.show_on.exclude,onChange:a=>r("show_on",{...s.show_on,exclude:a.target.value}),className:"mt-1 w-full rounded-xl border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm min-h-[120px]",placeholder:`/privacy
/terms`})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(x,{href:route("app.floaters",{}),children:e.jsx(g,{variant:"secondary",children:"Cancel"})}),e.jsxs(g,{type:"submit",disabled:j,className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Create Widget"]})]})]})]})]})}export{J as default};
