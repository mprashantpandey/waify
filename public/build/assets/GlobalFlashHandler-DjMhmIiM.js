import{j as n,r as m}from"./react-BhzSerM2.js";import{u as p}from"./useToast-C37H2DkG.js";import{aa as g,C as x,m as b,n as h,X as k,o as w}from"./vendor-YQoUUhbX.js";function v(){const{toasts:e,removeToast:r}=p();return e.length===0?null:n.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:e.map(s=>n.jsx(y,{toast:s,onClose:()=>r(s.id)},s.id))})}function y({toast:e,onClose:r}){m.useEffect(()=>{if(e.duration&&e.duration>0){const t=setTimeout(r,e.duration);return()=>clearTimeout(t)}},[e.duration,r]);const s=e.variant||"info",d={success:h,error:b,warning:x,info:g},a={success:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",error:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",warning:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200",info:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"},f=d[s]||g,i=a[s]||a.info;return n.jsxs("div",{className:`${i} border rounded-lg shadow-lg p-4 flex items-start gap-3 animate-in slide-in-from-right`,role:"alert",children:[n.jsx(f,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm",children:e.title}),e.description&&n.jsx("p",{className:"text-sm mt-1 opacity-90",children:e.description})]}),n.jsx("button",{onClick:r,className:"flex-shrink-0 text-current opacity-70 hover:opacity-100 transition-opacity","aria-label":"Close",children:n.jsx(k,{className:"h-4 w-4"})})]})}function T(){const{flash:e,errors:r}=w().props,{addToast:s}=p(),d=m.useRef("");return m.useEffect(()=>{const a=JSON.stringify({flash:e??null,errors:r??null});if(d.current===a)return;d.current=a;const f=new Set,i=(t,o,c)=>{const u=`${c}|${t}|${o}`;f.has(u)||(f.add(u),s({title:t,description:o,variant:c,source:"flash"}))};if(e&&(e.success&&i("Success",e.success,"success"),e.error&&i("Error",e.error,"error"),e.warning&&i("Warning",e.warning,"warning"),e.info&&i("Info",e.info,"info"),e.status)){const o={"verification-link-sent":{title:"Verification Link Sent",variant:"success"},"password-updated":{title:"Password Updated",variant:"success"},"profile-updated":{title:"Profile Updated",variant:"success"}}[e.status]||{title:"Status",variant:"info"};i(o.title,e.status,o.variant)}if(r&&typeof r=="object"&&Object.keys(r).length>0){const t=Object.entries(r).map(([u,l])=>typeof l=="string"?l:Array.isArray(l)?l[0]:String(l)).filter(Boolean),o=t.length===1?t[0]:t.slice(0,3).join(" â€¢ "),c=(e?.error??"").trim().toLowerCase();(!c||c!==o.trim().toLowerCase())&&i("Error",o,"error")}},[e,r,s]),null}export{T as G,v as T};
