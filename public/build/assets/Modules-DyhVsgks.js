import{j as e}from"./react-BhzSerM2.js";import{A as j}from"./AppShell-A6sQ3pxr.js";import{C as o,a as c,b,c as y}from"./Card-CRSrZ5HZ.js";import{B as t}from"./Badge-C6d-QEGL.js";import{u,B as N}from"./app-DjsbE74r.js";import{o as v,H as w,v as d,w as m,Z as k,i as C,m as M,x as _,y as T,k as x}from"./vendor-YQoUUhbX.js";import{u as E}from"./useToast-C37H2DkG.js";import"./Topbar-D6SeU-QE.js";import"./GlobalFlashHandler-DjMhmIiM.js";import"./BrandingWrapper-Djq-D_tN.js";import"./Alert-u60ICsin.js";import"./CookieConsentBanner-C37xsP7H.js";/* empty css            */function q({modules:n,account:$,current_plan:l}){const{addToast:s}=E(),g=u(),p=v(),{flash:F}=p.props,h=async a=>{if(!a.can_toggle){s({title:"Cannot toggle module",description:"This module is not available on your current plan.",variant:"error"});return}const r=a.enabled?"disable":"enable";if(!await g({title:`${r==="enable"?"Enable":"Disable"} Module`,message:`Are you sure you want to ${r} ${a.name}?`,variant:r==="enable"?"info":"warning"}))return;if(!a?.key){console.error("Module key missing:",a),s({title:"Error",description:"Module information is missing.",variant:"error"});return}const i=route("app.modules.toggle",{moduleKey:a.key});console.log("Toggling module:",{moduleKey:a.key,url:i}),x.post(i,{},{preserveScroll:!0,onSuccess:()=>{s({title:"Module updated",description:`${a.name} has been ${a.enabled?"disabled":"enabled"}.`,variant:"success"}),x.reload({only:["modules"]})},onError:f=>{s({title:"Error",description:f?.message||"Failed to update module status.",variant:"error"})}})};return e.jsxs(j,{children:[e.jsx(w,{title:"Modules"}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Modules"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:l?e.jsxs(e.Fragment,{children:["Manage modules available on your ",e.jsx("span",{className:"font-semibold",children:l.name})," plan"]}):"Manage your modules and features"})]})})}),n.length===0?e.jsx(o,{className:"border-0 shadow-lg",children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(d,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Modules Available"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No modules are available on your current plan. Please upgrade to access more features."})]})}):e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>e.jsxs(o,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-300 group overflow-hidden ${a.enabled?"ring-2 ring-green-500/20":""}`,children:[e.jsx(b,{className:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 pb-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`p-3 rounded-xl ${a.enabled?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-gray-400 to-gray-500"} group-hover:scale-110 transition-transform duration-200`,children:e.jsx(d,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:a.name}),a.is_in_plan&&!a.is_core&&e.jsx("span",{title:"Included in your plan",children:e.jsx(m,{className:"h-4 w-4 text-yellow-500"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.is_core&&e.jsxs(t,{variant:"info",className:"text-xs",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Core"]}),a.is_in_plan&&!a.is_core&&e.jsxs(t,{variant:"success",className:"text-xs",children:[e.jsx(m,{className:"h-3 w-3 mr-1"}),"In Plan"]})]})]})]})})}),e.jsxs(c,{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:a.description||"No description available"}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(t,{variant:a.enabled?"success":"default",className:"flex items-center gap-1.5 px-3 py-1",children:a.enabled?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-3.5 w-3.5"}),"Enabled"]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-3.5 w-3.5"}),"Disabled"]})})}),a.can_toggle&&e.jsx(N,{variant:a.enabled?"secondary":"primary",size:"sm",onClick:()=>h(a),className:"flex items-center gap-2",children:a.enabled?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4"}),"Disable"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4"}),"Enable"]})})]})]})]},a.id))})]})]})}export{q as default};
