import{r as G,j as e}from"./react-B_HteL0F.js";import{u as I,G as M,g as R,ac as L,am as O,D as V,W,aq as Z,a2 as _,ar as q,Z as H,s as X,a6 as Y,ae as J,as as K,w as Q,at as U,a8 as $}from"./vendor-GYTC5Pip.js";import{P as ee}from"./PlatformShell-D3A5CZuP.js";import{B as ae}from"./app-C0WBMkkY.js";import{u as re,T as se,a as te,b as ie,c as t}from"./Tabs-Bj89GQOf.js";import{u as ne}from"./useToast-Rch7lQVh.js";import{u as oe}from"./useNotifications-TrBdqubX.js";import le from"./GeneralTab-DjI0y3JE.js";import ce from"./SecurityTab-BP0Aylwq.js";import me from"./PaymentTab-DRglYxOS.js";import de from"./IntegrationsTab-cD3lH7UL.js";import pe from"./AnalyticsTab-D9PVsSmp.js";import ue from"./ComplianceTab-DAPerZB0.js";import xe from"./PerformanceTab-BHFjJqNd.js";import fe from"./FeaturesTab-BfdazSnL.js";import be from"./PusherTab-BlkQKEjd.js";import ge from"./MailTab-BB3lokF1.js";import he from"./StorageTab-Cy6oMBAg.js";import je from"./BrandingTab-Bt2mXZ_D.js";import ye from"./AiTab-Ct-mS7XS.js";import ve from"./SupportTab-CmZejfry.js";import"./Topbar-CPirX8py.js";import"./BrandingWrapper-DIBfDp2T.js";import"./GlobalFlashHandler-DpywDQft.js";/* empty css            */import"./Card-CUbeq4wI.js";import"./TextInput-79R2a16S.js";import"./InputLabel-BB8AVwyX.js";import"./InputError-BqFzjx5L.js";import"./Input--upXiJB3.js";import"./Label-Drek3p_W.js";import"./Switch-UdFrk4in.js";function ea({pusher:u,mail:x,storage:f,general:b,security:g,payment:c,integrations:h,analytics:j,compliance:y,performance:v,features:T,branding:S,ai:w,whatsapp:N,support:P}){const{auth:k,flash:n}=I().props,{value:A,setValue:C}=re("general"),{addToast:l}=ne(),{confirm:E}=oe(),{data:r,setData:s,post:B,processing:m,errors:a}=M({general:b||{},security:g||{},payment:c||{},integrations:h||{},analytics:j||{},compliance:y||{},performance:v||{},features:T||{},pusher:u||{},mail:x||{},storage:f||{},branding:S||{},ai:w||{},whatsapp:N||{},support:P||{}});G.useEffect(()=>{n?.success&&l({title:"Success",description:n.success,variant:"success"}),n?.error&&l({title:"Error",description:n.error,variant:"error"}),n?.warning&&l({title:"Warning",description:n.warning,variant:"warning"})},[n,l]);const D=async i=>{i.preventDefault();const o=c||{},z=r.payment||{};o.razorpay_enabled&&!z.razorpay_enabled&&!await E({title:"Disable Razorpay?",message:"You are about to disable Razorpay. This will prevent users from making payments. Are you sure?",variant:"warning"})||B(route("platform.settings.update"),{preserveScroll:!1,forceFormData:!0,only:["general","security","payment","integrations","analytics","compliance","performance","features","pusher","mail","storage","branding","ai","whatsapp","support","flash"],onSuccess:()=>{l({title:"Settings Saved",description:"All settings have been updated successfully.",variant:"success"})},onError:d=>{const p=Object.values(d).flat();l({title:"Error Saving Settings",description:p.length>0?p[0]:"Failed to save settings. Please try again.",variant:"error"})}})},F=[{id:"branding",label:"Branding",icon:L},{id:"general",label:"General",icon:O},{id:"security",label:"Security",icon:V},{id:"payment",label:"Payment",icon:W},{id:"integrations",label:"Integrations",icon:Z},{id:"analytics",label:"Analytics",icon:_},{id:"compliance",label:"Compliance",icon:q},{id:"performance",label:"Performance",icon:H},{id:"features",label:"Features",icon:X},{id:"ai",label:"AI",icon:Y},{id:"support",label:"Support",icon:J},{id:"pusher",label:"Pusher",icon:K},{id:"mail",label:"Mail",icon:Q},{id:"storage",label:"Storage",icon:U}];return e.jsx(ee,{auth:k,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Platform Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure all platform-wide settings and integrations"})]}),Object.keys(a).length>0&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Validation Errors"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 dark:text-red-300 space-y-1",children:Object.entries(a).map(([i,o])=>e.jsx("li",{children:Array.isArray(o)?o.join(", "):o},i))})]})]})}),e.jsxs(se,{value:A,onValueChange:C,children:[e.jsx(te,{className:"w-full justify-start mb-6 overflow-x-auto",children:F.map(i=>{const o=i.icon;return e.jsxs(ie,{value:i.id,children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),i.label]},i.id)})}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsx(t,{value:"branding",children:e.jsx(je,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"general",children:e.jsx(le,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"security",children:e.jsx(ce,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"payment",children:e.jsx(me,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"integrations",children:e.jsx(de,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"analytics",children:e.jsx(pe,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"compliance",children:e.jsx(ue,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"performance",children:e.jsx(xe,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"features",children:e.jsx(fe,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"pusher",children:e.jsx(be,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"ai",children:e.jsx(ye,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"support",children:e.jsx(ve,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"mail",children:e.jsx(ge,{data:r,setData:s,errors:a})}),e.jsx(t,{value:"storage",children:e.jsx(he,{data:r,setData:s,errors:a})}),e.jsx("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-800",children:e.jsxs(ae,{type:"submit",disabled:m,children:[e.jsx($,{className:"h-4 w-4 mr-2"}),m?"Saving...":"Save All Settings"]})})]})]})]})})}export{ea as default};
