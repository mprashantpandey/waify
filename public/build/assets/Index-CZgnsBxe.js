import{r as c,j as e}from"./react-BhzSerM2.js";import{H as C,q as o,f,k as i,a2 as k,g as S,a3 as j,l as n,m as _,i as B,a4 as D}from"./vendor-YQoUUhbX.js";import{A}from"./AppShell-A6sQ3pxr.js";import{C as u,a as m}from"./Card-CRSrZ5HZ.js";import{B as E}from"./Badge-C6d-QEGL.js";import{B as t}from"./app-DjsbE74r.js";import{E as M}from"./EmptyState-C-qCOnBR.js";import"./Topbar-D6SeU-QE.js";import"./GlobalFlashHandler-DjMhmIiM.js";import"./useToast-C37H2DkG.js";import"./BrandingWrapper-Djq-D_tN.js";import"./Alert-u60ICsin.js";import"./CookieConsentBanner-C37xsP7H.js";/* empty css            */function J({account:P,campaigns:s,filters:x}){const[r,h]=c.useState(x.search||""),[l,p]=c.useState(x.status||""),v=c.useMemo(()=>{const a={};return r.trim()&&(a.search=r.trim()),l&&(a.status=l),a},[r,l]),g=()=>{i.get(route("app.broadcasts.index",{}),v,{preserveState:!0,preserveScroll:!0,replace:!0})},y=a=>{const d={draft:{variant:"default",label:"Draft",icon:n},scheduled:{variant:"info",label:"Scheduled",icon:n},sending:{variant:"info",label:"Sending",icon:j},paused:{variant:"warning",label:"Paused",icon:D},completed:{variant:"success",label:"Completed",icon:B},cancelled:{variant:"danger",label:"Cancelled",icon:_}}[a]||{variant:"default",label:a,icon:n},w=d.icon;return e.jsxs(E,{variant:d.variant,className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),d.label]})},N=a=>a?new Date(a).toLocaleString():"â€”";return e.jsxs(A,{children:[e.jsx(C,{title:"Campaigns"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Campaigns"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Create and manage WhatsApp broadcast campaigns"})]}),e.jsx(o,{href:route("app.broadcasts.create",{}),children:e.jsxs(t,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg shadow-blue-500/50",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})})]}),e.jsx(u,{className:"border-0 shadow-lg",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row",children:[e.jsx("input",{type:"text",value:r,onChange:a=>h(a.target.value),onKeyDown:a=>a.key==="Enter"&&g(),placeholder:"Search by campaign name or description",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 md:flex-1"}),e.jsxs("select",{value:l,onChange:a=>p(a.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 md:w-48",children:[e.jsx("option",{value:"",children:"All statuses"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"sending",children:"Sending"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"secondary",onClick:()=>{h(""),p(""),i.get(route("app.broadcasts.index",{}),{},{preserveState:!0,preserveScroll:!0,replace:!0})},children:"Reset"}),e.jsx(t,{onClick:g,children:"Apply"})]})]})})}),s.data.length===0?e.jsx(u,{className:"border-0 shadow-xl",children:e.jsx(m,{className:"py-16 text-center",children:e.jsx(M,{icon:k,title:"No campaigns yet",description:"Create your first broadcast campaign to reach multiple contacts at once",action:e.jsx(o,{href:route("app.broadcasts.create",{}),children:e.jsxs(t,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})})})})}):e.jsxs("div",{className:"space-y-4",children:[s.data.map(a=>e.jsx(u,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(o,{href:route("app.broadcasts.show",{campaign:a.slug}),className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400",children:a.name}),y(a.status)]}),a.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:a.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-4 w-4"}),a.total_recipients," recipients"]}),a.status==="sending"&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"h-4 w-4"}),a.completion_percentage,"% complete"]}),a.scheduled_at&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"h-4 w-4"}),N(a.scheduled_at)]}),a.connection&&e.jsxs("span",{children:["via ",a.connection.name]})]})]}),e.jsx(o,{href:route("app.broadcasts.show",{campaign:a.slug}),children:e.jsx(t,{variant:"secondary",size:"sm",children:"View Details"})})]}),a.status==="sending"&&a.total_recipients>0&&e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.completion_percentage}%`}})})})]})},a.id)),s.links&&s.links.length>3&&e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:s.links.map((a,b)=>e.jsx("button",{onClick:()=>a.url&&i.visit(a.url),disabled:!a.url,className:`px-4 py-2 rounded-md text-sm font-medium ${a.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${a.url?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},b))})]})]})]})}export{J as default};
