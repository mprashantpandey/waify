import{r as i,j as e}from"./react-BhzSerM2.js";import{H as k,q as r,am as _,an as A,ao as I,f as j,a7 as T,ap as D,U as F,aq as f,k as n,e as B}from"./vendor-YQoUUhbX.js";import{A as E}from"./AppShell-A6sQ3pxr.js";import{C as d,a as o}from"./Card-CRSrZ5HZ.js";import{B as c}from"./Badge-C6d-QEGL.js";import{B as t}from"./app-DjsbE74r.js";import{T as M}from"./TextInput-DRXLElIV.js";import{E as $}from"./EmptyState-C-qCOnBR.js";import"./Topbar-D6SeU-QE.js";import"./GlobalFlashHandler-DjMhmIiM.js";import"./useToast-C37H2DkG.js";import"./BrandingWrapper-Djq-D_tN.js";import"./Alert-u60ICsin.js";import"./CookieConsentBanner-C37xsP7H.js";/* empty css            */function se({account:z,contacts:l,tags:H,segments:L,filters:v}){const[m,y]=i.useState(v.search||""),[b,N]=i.useState(!1),[x,h]=i.useState(null),[p,u]=i.useState(null),w=s=>{s.preventDefault(),n.get(route("app.contacts.index",{}),{search:m},{preserveState:!0,preserveScroll:!0})},C=s=>{const g={active:{variant:"success",label:"Active"},inactive:{variant:"default",label:"Inactive"},blocked:{variant:"danger",label:"Blocked"},opt_out:{variant:"warning",label:"Opt Out"}}[s]||{variant:"default",label:s};return e.jsx(c,{variant:g.variant,children:g.label})},S=s=>{confirm(`Delete contact "${s.name||s.wa_id}"? This action cannot be undone.`)&&(u(s.id),n.delete(route("app.contacts.destroy",{contact:s.slug||s.id}),{preserveScroll:!0,onFinish:()=>u(null)}))};return e.jsxs(E,{children:[e.jsx(k,{title:"Contacts"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Contacts"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your contacts and customer relationships"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(r,{href:route("app.contacts.tags.index"),children:e.jsxs(t,{variant:"secondary",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Tags"]})}),e.jsx(r,{href:route("app.contacts.segments.index"),children:e.jsxs(t,{variant:"secondary",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Segments"]})}),e.jsx(r,{href:route("app.contacts.export",{}),children:e.jsxs(t,{variant:"secondary",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Export"]})}),e.jsx(r,{href:route("app.contacts.create",{}),children:e.jsxs(t,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Add Contact"]})})]})]}),e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(M,{type:"text",value:m,onChange:s=>y(s.target.value),placeholder:"Search contacts...",className:"pl-10 w-full"})]}),e.jsx(t,{type:"submit",children:"Search"}),e.jsxs(t,{type:"button",variant:"secondary",onClick:()=>N(!b),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Filters"]})]})})}),l.data.length===0?e.jsx(d,{className:"border-0 shadow-xl",children:e.jsx(o,{className:"py-16 text-center",children:e.jsx($,{icon:F,title:"No contacts yet",description:"Start building your contact list by adding contacts manually or importing from CSV",action:e.jsx(r,{href:route("app.contacts.create",{}),children:e.jsxs(t,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Add Contact"]})})})})}):e.jsxs("div",{className:"space-y-4",children:[l.data.map(s=>e.jsx(d,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(r,{href:route("app.contacts.show",{contact:s.slug||s.id}),className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400",children:s.name||s.wa_id}),C(s.status)]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[s.wa_id&&e.jsxs("span",{children:["WhatsApp: ",s.wa_id]}),s.email&&e.jsxs("span",{children:["Email: ",s.email]}),s.phone&&e.jsxs("span",{children:["Phone: ",s.phone]}),s.company&&e.jsxs("span",{children:["Company: ",s.company]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Tags:"}),(s.tags??[]).length>0?(s.tags??[]).map(a=>e.jsx(c,{variant:"default",style:{backgroundColor:a.color+"20",color:a.color},children:a.name},a.id)):e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"None"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Segments:"}),(s.segments??[]).length>0?(s.segments??[]).map(a=>e.jsx(c,{variant:"secondary",children:a.name},a.id)):e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"None"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{size:"sm",className:"bg-[#25D366] hover:bg-[#1DAA57] text-white",disabled:x===s.id,onClick:()=>{h(s.id),n.visit(route("app.whatsapp.conversations.by-contact",{contact:s.slug||s.id}),{onFinish:()=>h(null)})},"aria-label":`Message ${s.name||s.wa_id}`,children:[x===s.id&&e.jsx(f,{className:"h-3.5 w-3.5 animate-spin mr-1","aria-hidden":!0}),"Message"]}),e.jsx(r,{href:route("app.contacts.show",{contact:s.slug||s.id}),children:e.jsx(t,{variant:"secondary",size:"sm",children:"View"})}),e.jsx(t,{variant:"secondary",size:"sm",disabled:p===s.id,onClick:()=>S(s),children:p===s.id?e.jsx(f,{className:"h-3.5 w-3.5 animate-spin"}):e.jsx(B,{className:"h-3.5 w-3.5 text-red-600"})})]})]})})},s.id)),l.links&&l.links.length>3&&e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:l.links.map((s,a)=>e.jsx("button",{onClick:()=>s.url&&n.visit(s.url),disabled:!s.url,className:`px-4 py-2 rounded-md text-sm font-medium ${s.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${s.url?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},a))})]})]})]})}export{se as default};
