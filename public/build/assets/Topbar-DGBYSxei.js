import{r as s,j as e}from"./react-BhzSerM2.js";import{u as y,as as k,e as j,at as v,au as N,D as l,l as t,ap as p,E as w,V as S}from"./vendor-DxGhd0kb.js";import{B as u}from"./Badge-BxV76wwp.js";function E({user:a,onMenuClick:d}){const{impersonation:b,accounts:n,account:i}=y().props,[c,m]=s.useState(!1),[x,g]=s.useState(!1),[h,o]=s.useState(!1);s.useEffect(()=>{const r=localStorage.getItem("darkMode")==="true"||!localStorage.getItem("darkMode")&&window.matchMedia("(prefers-color-scheme: dark)").matches;m(r),r&&document.documentElement.classList.add("dark")},[]);const f=()=>{const r=!c;m(r),localStorage.setItem("darkMode",String(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return e.jsx("header",{className:"sticky top-0 z-20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:pl-80",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[d&&e.jsx("button",{onClick:d,className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors","aria-label":"Open menu",children:e.jsx(k,{className:"h-5 w-5","aria-hidden":!0})}),i&&n?.length>1&&e.jsxs("div",{className:"relative hidden sm:block",children:[e.jsxs("button",{onClick:()=>o(!h),className:"flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-semibold text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),e.jsx("span",{className:"max-w-[160px] truncate",children:"Switch Account"})]}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),e.jsxs("div",{className:"absolute left-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-20",children:[e.jsx("div",{className:"px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Switch Account"}),n.map(r=>e.jsxs("button",{onClick:()=>{o(!1),j.post(route("app.accounts.switch",{account:r.id}))},className:"w-full text-left flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),e.jsx("span",{className:"flex-1 truncate",children:r.name}),i?.id===r.id&&e.jsx(u,{variant:"success",className:"text-xs px-2 py-0.5",children:"Current"})]},r.id))]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:f,className:"p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-all duration-200 hover:scale-110",children:c?e.jsx(v,{className:"h-5 w-5"}):e.jsx(N,{className:"h-5 w-5"})}),a&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>g(!x),className:"flex items-center gap-2 px-2 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-lg",children:a.name.charAt(0).toUpperCase()})}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1)}),e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-20 backdrop-blur-lg",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-lg",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.email})]}),a.is_super_admin&&e.jsxs(u,{variant:"info",className:"flex items-center gap-1 text-xs px-2 py-0.5",children:[e.jsx(l,{className:"h-3 w-3"}),"Admin"]})]})}),a.is_super_admin&&e.jsxs(t,{href:route("platform.dashboard"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(l,{className:"h-4 w-4"}),"Platform Panel"]}),a.is_super_admin&&e.jsxs(t,{href:route("platform.support.hub"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(p,{className:"h-4 w-4"}),"Support Inbox"]}),e.jsxs(t,{href:route("app.support.hub",{}),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(p,{className:"h-4 w-4"}),"Support"]}),b?.active&&e.jsxs(t,{href:route("impersonate.leave"),method:"post",className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",children:[e.jsx(l,{className:"h-4 w-4"}),"Stop Impersonation"]}),e.jsxs(t,{href:route("profile.edit"),className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(w,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(t,{href:route("logout"),method:"post",className:"flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx(S,{className:"h-4 w-4"}),"Logout"]})]})]})]})]})]})})}export{E as T};
